{"ast":null,"code":"import { BASE_API } from \"../utils/constants\";\nexport async function getAttendanceByFilterApi() {\n  let date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let idRoute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  let roundTrip = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  let ordering = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n  let fecha = date[6] + date[7] + date[8] + date[9] + \"-\" + date[3] + date[4] + \"-\" + date[0] + date[1];\n  console.log(fecha);\n  let filtro = fecha + \"T20:09:32.665118-04:00\";\n  console.log(filtro);\n  const dateFilter = `date=${\"2022-05-22T20:09:32.665118-04:00\"}`;\n  const idRouteFilter = `idRoute=${idRoute}`;\n  const roundTripFilter = `roundTrip=${roundTrip}`;\n  console.log(\"fecha día\", date[0] + date[1]);\n  console.log(\"fecha mes\", date[3] + date[4]);\n  console.log(\"fecha año\", date[6] + date[7] + date[8] + date[9]);\n\n  try {\n    const url = `${BASE_API}/api/attendances/?${dateFilter}&${idRouteFilter}&${roundTripFilter}&${ordering}`;\n    const response = await fetch(url);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function getAttendanceApi() {\n  try {\n    const url = `${BASE_API}/api/attendances/`;\n    const response = await fetch(url);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function addAttendanceApi(data, token) {\n  try {\n    const formData = new formData();\n    formData.append('idRoute', data.idRoute);\n    formData.append('roundTrip', data.roundTrip);\n    formData.append('student', data.student);\n    const url = `${BASE_API}/api/attendances/`;\n    const params = {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      body: formData\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"names":["BASE_API","getAttendanceByFilterApi","date","idRoute","roundTrip","ordering","fecha","console","log","filtro","dateFilter","idRouteFilter","roundTripFilter","url","response","fetch","result","json","error","getAttendanceApi","addAttendanceApi","data","token","formData","append","student","params","method","headers","Authorization","body"],"sources":["C:/Cursos/Full/marisol/frontend/gestionte/src/api/attendance.js"],"sourcesContent":["import {BASE_API} from \"../utils/constants\"\r\n\r\nexport async function getAttendanceByFilterApi(date=\"\", idRoute=\"\", roundTrip=\"\", ordering=\"\"){\r\n    let fecha = date[6] + date[7] + date[8] + date[9] + \"-\" + date[3] + date[4]+\"-\" + date[0] + date[1];\r\n    console.log(fecha);\r\n    let filtro = fecha + \"T20:09:32.665118-04:00\";\r\n    console.log(filtro);\r\n    const dateFilter = `date=${\"2022-05-22T20:09:32.665118-04:00\"}`;\r\n    const idRouteFilter = `idRoute=${idRoute}`;\r\n    const roundTripFilter = `roundTrip=${roundTrip}`;\r\n    console.log(\"fecha día\", (date[0] + date[1]));\r\n    console.log(\"fecha mes\", (date[3] + date[4]));\r\n    console.log(\"fecha año\", (date[6] + date[7] + date[8] + date[9]));\r\n\r\n    try {\r\n        const url = `${BASE_API}/api/attendances/?${dateFilter}&${idRouteFilter}&${roundTripFilter}&${ordering}`;\r\n        const response = await fetch(url);\r\n        const result = await response.json();\r\n        return result;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function getAttendanceApi(){\r\n    try {\r\n        const url = `${BASE_API}/api/attendances/`;\r\n        const response = await fetch(url);\r\n        const result = await response.json();\r\n        return result;\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function addAttendanceApi(data, token){\r\ntry {\r\n    const formData = new formData();\r\n    formData.append('idRoute', data.idRoute)\r\n    formData.append('roundTrip', data.roundTrip)\r\n    formData.append('student', data.student);\r\n\r\n    const url = `${BASE_API}/api/attendances/`;\r\n        const params={\r\n            method: 'POST',\r\n            headers:{\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n            body: formData,\r\n        };\r\n        const response = await fetch(url, params);\r\n        const result = await response.json();\r\n        return result;\r\n} catch (error) {\r\n    throw error;\r\n}}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"version":3,"file":"react-semantic-ui-datepickers.esm.js","sources":["../src/utils.ts","../src/pickers/utils.ts","../src/pickers/base.tsx","../src/pickers/basic.tsx","../src/pickers/range.tsx","../src/components/button.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/components/cell/cell.tsx","../src/components/today-button.tsx","../src/components/calendar/calendar.tsx","../src/components/icon.tsx","../src/components/input.tsx","../src/index.tsx"],"sourcesContent":["import { convertTokens } from '@date-fns/upgrade/v2/convertTokens';\nimport format from 'date-fns/format';\nimport isBefore from 'date-fns/isBefore';\nimport parse from 'date-fns/parse';\nimport startOfDay from 'date-fns/startOfDay';\nimport { DateObj } from 'dayzed';\nimport { Object, FnsFormatOptions } from './types';\n\nexport const keys = {\n  enter: 13,\n  escape: 27,\n  space: 32,\n};\n\nexport const isSelectable = (date: Date, minDate?: Date, maxDate?: Date) => {\n  if (\n    (minDate && isBefore(date, minDate)) ||\n    (maxDate && isBefore(maxDate, date))\n  ) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const getToday = (minDate?: Date, maxDate?: Date): DateObj => {\n  const today = new Date();\n\n  return {\n    date: startOfDay(today),\n    nextMonth: false,\n    prevMonth: false,\n    selectable: isSelectable(today, minDate, maxDate),\n    selected: false,\n    today: true,\n  };\n};\n\nexport const formatDate = (\n  date: Date | null,\n  dateFormat: string,\n  formatOptions?: FnsFormatOptions\n) =>\n  date\n    ? format(startOfDay(date), convertTokens(dateFormat), formatOptions)\n    : undefined;\n\nexport const omit = (keysToOmit: string[], obj: Object) => {\n  const newObj = { ...obj };\n\n  keysToOmit.forEach((key) => delete newObj[key]);\n\n  return newObj;\n};\n\nexport const pick = (keysToPick: string[], obj: Object) => {\n  const newObj: Object = {};\n\n  keysToPick.forEach((key) => {\n    newObj[key] = obj[key];\n  });\n\n  return newObj;\n};\n\nexport const moveElementsByN = <T>(n: number, arr: T[]) =>\n  arr.slice(n).concat(arr.slice(0, n));\n\nexport const formatSelectedDate = (\n  selectedDate: Date | Date[] | null | undefined,\n  dateFormat: string,\n  formatOptions?: FnsFormatOptions\n) => {\n  if (!selectedDate) {\n    return '';\n  }\n\n  return Array.isArray(selectedDate)\n    ? selectedDate\n        .map((date) => formatDate(date, dateFormat, formatOptions))\n        .join(' - ')\n    : formatDate(selectedDate, dateFormat, formatOptions);\n};\n\nexport const parseFormatString = (formatString: string) =>\n  formatString.replace(/[D, Y]/gi, (a) => a.toLowerCase());\n\nexport const parseOnBlur = (typedValue: string, formatString: string) => {\n  return parse(typedValue, parseFormatString(formatString), new Date());\n};\n\nexport const parseRangeOnBlur = (typedValue: string, formatString: string) => {\n  const parsedFormatString = parseFormatString(formatString);\n\n  const rangeValues = typedValue.split(' - ');\n\n  return rangeValues\n    .map((value) => parse(value, parsedFormatString, new Date()))\n    .sort((a, b) => (a > b ? 1 : -1));\n};\n\nexport const onlyNumbers = (value = '') => value.replace(/[^\\d]/g, '');\n\nexport function getShortDate(date?: Date) {\n  if (!date) {\n    return undefined;\n  }\n\n  return format(date, 'yyyy-MM-dd');\n}\n","/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls\n * `event.preventDefault()`. Not sure this is the best\n * way to do this, but it seems legit...\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\nexport function composeEventHandlers(...fns) {\n  return (event, ...args) =>\n    fns.some((fn) => {\n      if (fn) {\n        fn(event, ...args);\n      }\n\n      return event.defaultPrevented;\n    });\n}\n\n/**\n * Create an event handler for keyboard key given a config map\n * of event handlers\n * @param {Object} config consists of left, right, up, and down\n * @return {Function} the event handler to handle keyboard key\n */\nexport function getArrowKeyHandlers(config) {\n  return (event) => {\n    const { keyCode } = event;\n    const fn = {\n      37: config.left,\n      39: config.right,\n      38: config.up,\n      40: config.down,\n    }[keyCode];\n    if (fn) {\n      fn(event);\n    }\n  };\n}\n\n/**\n * Checks if a given date is with date range\n * @param {Array} range the range array with upper and lower bound\n * @param {Date} date a given date\n * @return {Boolean} true if date is in the range, false otherwise\n */\nexport function isInRange(range, date) {\n  return range.length === 2 && range[0] <= date && range[1] >= date;\n}\n","import Dayzed from 'dayzed';\nimport React from 'react';\nimport { BaseDatePickerProps } from '../types';\nimport { getArrowKeyHandlers } from './utils';\n\nclass BaseDatePicker extends React.Component<BaseDatePickerProps> {\n  state = {\n    offset: 0,\n  };\n\n  rootNode = React.createRef<HTMLDivElement>();\n\n  handleArrowKeys = getArrowKeyHandlers({\n    left: () => this.getKeyOffset(-1),\n    right: () => this.getKeyOffset(1),\n    up: () => this.getKeyOffset(-7),\n    down: () => this.getKeyOffset(7),\n  });\n\n  getKeyOffset(number: number) {\n    if (!this.rootNode.current) {\n      return;\n    }\n\n    const activeEl = document.activeElement;\n    const buttons = Array.from(\n      this.rootNode.current.querySelectorAll<HTMLButtonElement>(\n        'button:not(:disabled)'\n      )\n    );\n\n    buttons.some((btn, i) => {\n      const newNodeKey = i + number;\n\n      if (btn !== activeEl) {\n        return false;\n      }\n\n      if (newNodeKey <= buttons.length - 1 && newNodeKey >= 0) {\n        buttons[newNodeKey].focus();\n        return true;\n      }\n\n      buttons[0].focus();\n      return true;\n    });\n  }\n\n  getRootProps = ({ refKey = 'ref', ...rest } = {}) => {\n    return {\n      [refKey]: this.rootNode,\n      onKeyDown: this.handleArrowKeys,\n      ...rest,\n    };\n  };\n\n  _handleOffsetChanged = (offset: number) => {\n    this.setState({\n      offset,\n    });\n  };\n\n  componentDidUpdate(prevProps: BaseDatePickerProps) {\n    if (this.props.date !== prevProps.date) {\n      this._handleOffsetChanged(0);\n    }\n  }\n\n  render() {\n    const { children, ...rest } = this.props;\n\n    return (\n      <Dayzed\n        {...rest}\n        offset={this.state.offset}\n        onOffsetChanged={this._handleOffsetChanged}\n        render={(renderProps) =>\n          children({\n            ...renderProps,\n            getRootProps: this.getRootProps,\n          })\n        }\n      />\n    );\n  }\n}\n\nexport default BaseDatePicker;\n","import React from 'react';\nimport { BasicDatePickerProps } from '../types';\nimport BaseDatePicker from './base';\n\nclass DatePicker extends React.Component<BasicDatePickerProps> {\n  _handleOnDateSelected = (\n    { selectable, date },\n    event: React.SyntheticEvent\n  ) => {\n    const {\n      clearOnSameDateClick,\n      selected: selectedDate,\n      onChange,\n    } = this.props;\n\n    if (!selectable) {\n      return;\n    }\n\n    let newDate = date;\n    if (\n      selectedDate &&\n      selectedDate.getTime() === date.getTime() &&\n      clearOnSameDateClick\n    ) {\n      newDate = null;\n    }\n\n    if (onChange) {\n      onChange(event, newDate);\n    }\n  };\n\n  render() {\n    return (\n      <BaseDatePicker\n        {...this.props}\n        onDateSelected={this._handleOnDateSelected}\n      />\n    );\n  }\n}\n\nexport default DatePicker;\n","import compareAsc from 'date-fns/compareAsc';\nimport isSameDay from 'date-fns/isSameDay';\nimport React from 'react';\nimport { RangeDatePickerProps } from '../types';\nimport BaseDatePicker from './base';\nimport { composeEventHandlers, isInRange } from './utils';\n\ntype RangeDatePickerState = {\n  hoveredDate: Date | null;\n};\n\nclass RangeDatePicker extends React.Component<\n  RangeDatePickerProps,\n  RangeDatePickerState\n> {\n  static defaultProps = {\n    selected: [],\n  };\n\n  state = { hoveredDate: null };\n\n  setHoveredDate = (date: Date | null) => {\n    this.setState((state) =>\n      state.hoveredDate === date ? null : { hoveredDate: date }\n    );\n  };\n\n  // Calendar level\n  onMouseLeave = () => {\n    this.setHoveredDate(null);\n  };\n\n  // Date level\n  onHoverFocusDate(date: Date | null) {\n    if (this.props.selected.length !== 1) {\n      return;\n    }\n\n    this.setHoveredDate(date);\n  }\n\n  _handleOnDateSelected = (\n    { selectable, date },\n    event: React.SyntheticEvent\n  ) => {\n    const { selected: selectedDates, onChange } = this.props;\n\n    if (!selectable) {\n      return;\n    }\n\n    const dateTime = date.getTime();\n    let newDates = [...selectedDates];\n    if (selectedDates.length) {\n      if (selectedDates.length === 1) {\n        const firstTime = selectedDates[0].getTime();\n        if (firstTime < dateTime) {\n          newDates.push(date);\n        } else {\n          newDates.unshift(date);\n        }\n      } else if (newDates.length === 2) {\n        newDates = [date];\n      }\n    } else {\n      newDates.push(date);\n    }\n\n    if (onChange) {\n      onChange(event, newDates);\n    }\n\n    if (newDates.length === 2) {\n      this.setHoveredDate(null);\n    }\n  };\n\n  getEnhancedDateProps = (\n    getDateProps,\n    dateBounds,\n    { onMouseEnter, onFocus, ...restProps }\n  ) => {\n    const { hoveredDate } = this.state;\n    const { date } = restProps.dateObj;\n    return getDateProps({\n      ...restProps,\n      inRange: isInRange(dateBounds, date),\n      start: dateBounds[0] && isSameDay(dateBounds[0], date),\n      end: dateBounds[1] && isSameDay(dateBounds[1], date),\n      // @ts-ignore\n      hovered: hoveredDate && isSameDay(hoveredDate, date),\n      onMouseEnter: composeEventHandlers(onMouseEnter, () => {\n        this.onHoverFocusDate(date);\n      }),\n      onFocus: composeEventHandlers(onFocus, () => {\n        this.onHoverFocusDate(date);\n      }),\n    });\n  };\n\n  getEnhancedRootProps = (getRootProps, props) =>\n    getRootProps({\n      ...props,\n      onMouseLeave: this.onMouseLeave,\n    });\n\n  render() {\n    const { children, ...rest } = this.props;\n    const { hoveredDate } = this.state;\n    const { selected } = this.props;\n\n    const dateBounds =\n      selected.length === 2 || !selected.length || !hoveredDate\n        ? selected\n        : // prettier-ignore\n          // @ts-ignore\n          [selected[0], hoveredDate].sort(compareAsc);\n\n    return (\n      <BaseDatePicker {...rest} onDateSelected={this._handleOnDateSelected}>\n        {({ getRootProps, getDateProps, ...renderProps }) =>\n          children({\n            ...renderProps,\n            getRootProps: this.getEnhancedRootProps.bind(this, getRootProps),\n            getDateProps: this.getEnhancedDateProps.bind(\n              this,\n              getDateProps,\n              dateBounds\n            ),\n          })\n        }\n      </BaseDatePicker>\n    );\n  }\n}\n\nexport default RangeDatePicker;\n","import React from 'react';\nimport { Button, ButtonProps } from 'semantic-ui-react';\n\nconst CustomButton = ({ icon, ...otherProps }: ButtonProps) => (\n  <Button basic compact icon={icon} {...otherProps} />\n);\n\nexport default CustomButton;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import cn from 'classnames';\nimport React from 'react';\nimport './cell.css';\n\ntype CalendarCellProps = {\n  end?: boolean;\n  hovered?: boolean;\n  inRange?: boolean;\n  inverted?: boolean;\n  nextMonth?: boolean;\n  prevMonth?: boolean;\n  selectable?: boolean;\n  selected?: boolean;\n  start?: boolean;\n  today?: boolean;\n  title?: string;\n};\n\nconst CalendarCell: React.FC<CalendarCellProps> = ({\n  children,\n  end,\n  hovered,\n  inRange,\n  inverted,\n  nextMonth,\n  prevMonth,\n  selectable,\n  selected,\n  start,\n  today,\n  ...otherProps\n}) => {\n  const className = cn('clndr-cell', {\n    inverted,\n    'clndr-cell-today': today,\n    'clndr-cell-disabled': !selectable,\n    'clndr-cell-other-month': nextMonth || prevMonth,\n    'clndr-cell-inrange': inRange,\n    'clndr-cell-selected': selected,\n  });\n\n  if (!children) {\n    return (\n      <span className={className} tabIndex={children ? 0 : -1} {...otherProps}>\n        {children}\n      </span>\n    );\n  }\n\n  return (\n    <button className={className} disabled={!selectable} {...otherProps}>\n      {children}\n    </button>\n  );\n};\n\nCalendarCell.defaultProps = {\n  end: false,\n  hovered: false,\n  inRange: false,\n  nextMonth: false,\n  prevMonth: false,\n  start: false,\n};\n\nexport default CalendarCell;\n","import React from 'react';\nimport { DateObj } from 'dayzed';\nimport { Button, ButtonProps } from 'semantic-ui-react';\n\ninterface TodayButtonProps extends DateObj, ButtonProps {\n  end?: boolean;\n  hovered?: boolean;\n  inRange?: boolean;\n  start?: boolean;\n}\n\nconst style: React.CSSProperties = { marginTop: 10 };\n\nconst TodayButton: React.FC<TodayButtonProps> = ({\n  'aria-label': ariaLabel,\n  children,\n  end,\n  hovered,\n  inRange,\n  nextMonth,\n  prevMonth,\n  selectable,\n  selected,\n  start,\n  today,\n  ...otherProps\n}) => (\n  <Button\n    aria-label={`${ariaLabel}, ${children}`}\n    className=\"clndr-button-today\"\n    compact\n    data-testid=\"datepicker-today-button\"\n    fluid\n    style={style}\n    {...otherProps}\n  >\n    {children}\n  </Button>\n);\n\nexport default TodayButton;\n","import cn from 'classnames';\nimport React, { Fragment, SyntheticEvent, useEffect, useRef } from 'react';\nimport { Ref, Segment } from 'semantic-ui-react';\nimport { Locale, RenderProps, SemanticDatepickerProps } from 'types';\nimport { getShortDate, getToday } from '../../utils';\nimport Button from '../button';\nimport CalendarCell from '../cell';\nimport TodayButton from '../today-button';\nimport './calendar.css';\n\ninterface CalendarProps extends RenderProps {\n  filterDate: (date: Date) => boolean;\n  getRootProps: () => Record<string, any>;\n  inline: SemanticDatepickerProps['inline'];\n  inverted: SemanticDatepickerProps['inverted'];\n  maxDate?: Date;\n  minDate?: Date;\n  months: Locale['months'];\n  nextMonth: string;\n  nextYear: string;\n  pointing: SemanticDatepickerProps['pointing'];\n  previousMonth: string;\n  previousYear: string;\n  showToday: SemanticDatepickerProps['showToday'];\n  todayButton: string;\n  weekdays: Locale['weekdays'];\n}\n\nconst styles: { [key: string]: React.CSSProperties } = {\n  leftBtn: { textAlign: 'start' },\n  rightBtn: { textAlign: 'end' },\n};\n\nconst pointings = {\n  'top left': 'clndr-top clndr-left',\n  'top right': 'clndr-top clndr-right',\n  left: 'clndr-left',\n  right: 'clndr-right',\n};\n\nconst Calendar: React.FC<CalendarProps> = ({\n  calendars,\n  filterDate,\n  getBackProps,\n  getDateProps,\n  getForwardProps,\n  getRootProps,\n  inline,\n  inverted,\n  maxDate,\n  minDate,\n  months,\n  nextMonth,\n  nextYear,\n  previousMonth,\n  previousYear,\n  showToday,\n  todayButton,\n  weekdays,\n  pointing,\n}) => {\n  const { ref: rootRef, ...rootProps } = getRootProps();\n  const pressedBtnRef = useRef<string | null>();\n  const onPressBtn = (evt: SyntheticEvent) => {\n    pressedBtnRef.current = (evt.target as HTMLButtonElement).getAttribute(\n      'aria-label'\n    );\n  };\n\n  useEffect(() => {\n    if (pressedBtnRef.current) {\n      const selector = `[aria-label=\"${pressedBtnRef.current}\"]`;\n      const prevBtn = document.querySelector<HTMLButtonElement>(selector);\n\n      if (prevBtn && document.activeElement !== prevBtn) {\n        prevBtn.focus();\n      }\n    }\n  });\n\n  return (\n    <Ref innerRef={rootRef}>\n      <Segment\n        {...rootProps}\n        inverted={inverted}\n        className={cn('clndr-calendars-segment', {\n          'clndr-floating': !inline,\n          [pointings[pointing]]: !inline,\n        })}\n      >\n        <div\n          className=\"clndr-calendars-wrapper\"\n          style={{ '--n': calendars.length } as React.CSSProperties}\n        >\n          {calendars.map((calendar, calendarIdx) => (\n            <div key={`${calendar.year}-${calendar.month}`}>\n              <div className=\"clndr-control\">\n                <div style={styles.leftBtn}>\n                  {calendarIdx === 0 && (\n                    <Fragment>\n                      <Button\n                        icon=\"angle double left\"\n                        inverted={inverted}\n                        title={previousYear}\n                        {...getBackProps({\n                          calendars,\n                          'aria-label': previousYear,\n                          offset: 12,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                      <Button\n                        icon=\"angle left\"\n                        inverted={inverted}\n                        style={{ marginRight: 0 }}\n                        title={previousMonth}\n                        {...getBackProps({\n                          calendars,\n                          'aria-label': previousMonth,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                    </Fragment>\n                  )}\n                </div>\n\n                <span title={`${months[calendar.month]} ${calendar.year}`}>\n                  {months[calendar.month].slice(0, 3)} {calendar.year}\n                </span>\n\n                <div style={styles.rightBtn}>\n                  {calendarIdx === calendars.length - 1 && (\n                    <Fragment>\n                      <Button\n                        icon=\"angle right\"\n                        inverted={inverted}\n                        title={nextMonth}\n                        {...getForwardProps({\n                          calendars,\n                          'aria-label': nextMonth,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                      <Button\n                        icon=\"angle double right\"\n                        inverted={inverted}\n                        style={{ marginRight: 0 }}\n                        title={nextYear}\n                        {...getForwardProps({\n                          calendars,\n                          'aria-label': nextYear,\n                          offset: 12,\n                          onClick: onPressBtn,\n                        })}\n                      />\n                    </Fragment>\n                  )}\n                </div>\n              </div>\n              <div className=\"clndr-days\">\n                {weekdays.map((weekday) => (\n                  <CalendarCell\n                    key={`${calendar.year}-${calendar.month}-${weekday}`}\n                    inverted={inverted}\n                    aria-label={weekday}\n                    title={weekday}\n                  >\n                    {weekday.slice(0, 2)}\n                  </CalendarCell>\n                ))}\n                {calendar.weeks.map((week) =>\n                  week.map((dateObj, weekIdx) => {\n                    const key = `${calendar.year}-${calendar.month}-${weekIdx}`;\n\n                    if (!dateObj) {\n                      return <CalendarCell key={key} inverted={inverted} />;\n                    }\n\n                    const selectable =\n                      dateObj.selectable && filterDate(dateObj.date);\n                    const shortDate = getShortDate(dateObj.date);\n\n                    return (\n                      <CalendarCell\n                        key={key}\n                        {...dateObj}\n                        {...getDateProps({\n                          dateObj: { ...dateObj, selectable },\n                          onClick: onPressBtn,\n                        })}\n                        data-testid={`datepicker-cell-${shortDate}`}\n                        inverted={inverted}\n                        selectable={selectable}\n                      >\n                        {dateObj.date.getDate()}\n                      </CalendarCell>\n                    );\n                  })\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n        {showToday && (\n          <TodayButton\n            inverted={inverted}\n            {...getToday(minDate, maxDate)}\n            {...getDateProps({\n              dateObj: getToday(minDate, maxDate),\n              onClick: onPressBtn,\n            })}\n          >\n            {todayButton}\n          </TodayButton>\n        )}\n      </Segment>\n    </Ref>\n  );\n};\n\nexport default Calendar;\n","import React from 'react';\nimport { Icon as SUIIcon } from 'semantic-ui-react';\nimport { SemanticDatepickerProps } from '../types';\n\ntype CustomIconProps = {\n  clearIcon: SemanticDatepickerProps['clearIcon'];\n  icon: SemanticDatepickerProps['icon'];\n  isClearIconVisible: boolean;\n  onClear: () => void;\n};\n\nconst CustomIcon = ({\n  clearIcon,\n  icon,\n  isClearIconVisible,\n  onClear,\n}: CustomIconProps) => {\n  if (isClearIconVisible && clearIcon && React.isValidElement(clearIcon)) {\n    return React.cloneElement(clearIcon, {\n      'data-testid': 'datepicker-clear-icon',\n      onClick: onClear,\n    });\n  }\n\n  if (isClearIconVisible && clearIcon && !React.isValidElement(clearIcon)) {\n    return (\n      <SUIIcon\n        aria-pressed=\"false\"\n        data-testid=\"datepicker-clear-icon\"\n        link\n        name={clearIcon}\n        onClick={onClear}\n      />\n    );\n  }\n\n  if (icon && React.isValidElement(icon)) {\n    return React.cloneElement(icon, {\n      'data-testid': 'datepicker-icon',\n    });\n  }\n\n  return <SUIIcon data-testid=\"datepicker-icon\" name={icon} />;\n};\n\nexport default CustomIcon;\n","import React from 'react';\nimport { Form, Input, FormInputProps } from 'semantic-ui-react';\nimport { SemanticDatepickerProps } from '../types';\nimport CustomIcon from './icon';\n\ntype InputProps = FormInputProps & {\n  clearIcon: SemanticDatepickerProps['clearIcon'];\n  icon: SemanticDatepickerProps['icon'];\n  isClearIconVisible: boolean;\n};\n\nconst inputData = {\n  'data-testid': 'datepicker-input',\n};\n\nconst CustomInput = React.forwardRef<Input, InputProps>((props, ref) => {\n  const {\n    clearIcon,\n    error,\n    icon,\n    isClearIconVisible,\n    label,\n    onClear,\n    onFocus,\n    required,\n    value,\n    ...rest\n  } = props;\n\n  return (\n    <Form.Field error={error} required={required}>\n      {label && <label htmlFor={rest.id as string | undefined}>{label}</label>}\n      <Input\n        {...rest}\n        ref={ref}\n        error={error}\n        required={required}\n        icon={\n          <CustomIcon\n            clearIcon={clearIcon}\n            icon={icon}\n            isClearIconVisible={isClearIconVisible}\n            onClear={onClear}\n          />\n        }\n        input={inputData}\n        onFocus={onFocus}\n        value={value}\n      />\n    </Form.Field>\n  );\n});\n\nexport default CustomInput;\n","import isValid from 'date-fns/isValid';\nimport formatStringByPattern from 'format-string-by-pattern';\nimport React from 'react';\nimport isEqual from 'react-fast-compare';\nimport { Input as SUIInput } from 'semantic-ui-react';\nimport {\n  formatSelectedDate,\n  keys,\n  moveElementsByN,\n  omit,\n  onlyNumbers,\n  parseOnBlur,\n  parseRangeOnBlur,\n  pick,\n} from './utils';\nimport { BasicDatePicker, RangeDatePicker } from './pickers';\nimport { Locale, SemanticDatepickerProps } from './types';\nimport Calendar from './components/calendar';\nimport Input from './components/input';\n\nconst style: React.CSSProperties = {\n  display: 'inline-block',\n  position: 'relative',\n};\n\nconst semanticInputProps = [\n  'autoComplete',\n  'autoFocus',\n  'className',\n  'clearIcon',\n  'disabled',\n  'error',\n  'icon',\n  'iconPosition',\n  'id',\n  'label',\n  'loading',\n  'name',\n  'onBlur',\n  'onChange',\n  'onClick',\n  'onContextMenu',\n  'onDoubleClick',\n  'onFocus',\n  'onInput',\n  'onKeyDown',\n  'onKeyPress',\n  'onKeyUp',\n  'onMouseDown',\n  'onMouseEnter',\n  'onMouseLeave',\n  'onMouseMove',\n  'onMouseOut',\n  'onMouseOver',\n  'onMouseUp',\n  'placeholder',\n  'required',\n  'size',\n  'tabIndex',\n  'transparent',\n  'readOnly',\n];\n\ntype SemanticDatepickerState = {\n  isVisible: boolean;\n  locale: Locale;\n  selectedDate: Date | Date[] | null;\n  selectedDateFormatted?: string;\n  typedValue: string | null;\n};\n\nclass SemanticDatepicker extends React.Component<\n  SemanticDatepickerProps,\n  SemanticDatepickerState\n> {\n  static defaultProps: SemanticDatepickerProps = {\n    allowOnlyNumbers: false,\n    autoFocus: false,\n    clearIcon: 'close',\n    clearOnSameDateClick: true,\n    clearable: true,\n    date: undefined,\n    filterDate: () => true,\n    firstDayOfWeek: 0,\n    format: 'YYYY-MM-DD',\n    icon: 'calendar',\n    id: undefined,\n    inline: false,\n    keepOpenOnClear: false,\n    keepOpenOnSelect: false,\n    label: undefined,\n    locale: 'en-US',\n    name: undefined,\n    onBlur: () => {},\n    onChange: () => {},\n    onFocus: () => {},\n    placeholder: undefined,\n    pointing: 'left',\n    readOnly: false,\n    datePickerOnly: false,\n    required: false,\n    showToday: true,\n    showOutsideDays: false,\n    type: 'basic',\n    value: null,\n    inverted: false,\n  };\n\n  el = React.createRef<HTMLDivElement>();\n  inputRef = React.createRef<SUIInput>();\n\n  componentDidUpdate(prevProps: SemanticDatepickerProps) {\n    const { locale, value } = this.props;\n\n    if (!isEqual(value, prevProps.value)) {\n      this.onDateSelected(undefined, value);\n    }\n\n    if (locale !== prevProps.locale) {\n      this.setState({ locale: this.locale });\n    }\n  }\n\n  get isRangeInput() {\n    return this.props.type === 'range';\n  }\n\n  get initialState() {\n    const { format, value, formatOptions } = this.props;\n    const initialSelectedDate = this.isRangeInput ? [] : null;\n\n    return {\n      isVisible: false,\n      locale: this.locale,\n      selectedDate: value || initialSelectedDate,\n      selectedDateFormatted: formatSelectedDate(value, format, formatOptions),\n      typedValue: null,\n    };\n  }\n\n  get dayzedProps() {\n    return omit(semanticInputProps, this.props);\n  }\n\n  get inputProps() {\n    const props = pick(semanticInputProps, this.props);\n    const placeholder =\n      props.placeholder !== undefined ? props.placeholder : this.props.format;\n\n    return {\n      ...props,\n      placeholder,\n    };\n  }\n\n  get date(): Date | undefined {\n    const { selectedDate } = this.state;\n    const { date } = this.props;\n\n    if (date || !selectedDate) {\n      return date;\n    }\n\n    return this.isRangeInput ? selectedDate[0] : selectedDate;\n  }\n\n  get locale() {\n    const { locale } = this.props;\n\n    let localeJson: Locale;\n\n    try {\n      localeJson = require(`./locales/${locale}.json`);\n    } catch (e) {\n      console.warn(`\"${locale}\" is not a valid locale`);\n      localeJson = require('./locales/en-US.json');\n    }\n\n    return localeJson;\n  }\n\n  get weekdays() {\n    const { firstDayOfWeek } = this.dayzedProps;\n    const { weekdays } = this.state.locale;\n\n    return moveElementsByN(firstDayOfWeek, weekdays);\n  }\n\n  state = this.initialState;\n\n  Component: React.ElementType = this.isRangeInput\n    ? RangeDatePicker\n    : BasicDatePicker;\n\n  resetState = (event) => {\n    const { keepOpenOnClear, onChange } = this.props;\n    const newState = {\n      isVisible: keepOpenOnClear,\n      selectedDate: this.isRangeInput ? [] : null,\n      selectedDateFormatted: '',\n    };\n\n    if (keepOpenOnClear) {\n      this.focusOnInput();\n    }\n\n    this.setState(newState, () => {\n      onChange(event, { ...this.props, value: null });\n    });\n  };\n\n  clearInput = (event) => {\n    this.resetState(event);\n  };\n\n  mousedownCb = (mousedownEvent) => {\n    const { isVisible } = this.state;\n\n    if (isVisible && this.el) {\n      if (this.el.current && !this.el.current.contains(mousedownEvent.target)) {\n        this.close();\n      }\n    }\n  };\n\n  keydownCb = (keydownEvent) => {\n    const { isVisible } = this.state;\n\n    if (keydownEvent.keyCode === keys.escape && isVisible) {\n      this.close();\n    }\n  };\n\n  close = () => {\n    window.removeEventListener('keydown', this.keydownCb);\n    window.removeEventListener('mousedown', this.mousedownCb);\n\n    this.setState({\n      isVisible: false,\n    });\n  };\n\n  focusOnInput = () => {\n    if (this.inputRef?.current) {\n      // @ts-ignore\n      const { focus, inputRef } = this.inputRef.current;\n      if (document.activeElement !== inputRef.current) {\n        focus();\n      }\n    }\n  };\n\n  showCalendar = (event) => {\n    const { onFocus } = this.props;\n\n    onFocus(event);\n    window.addEventListener('mousedown', this.mousedownCb);\n    window.addEventListener('keydown', this.keydownCb);\n\n    this.focusOnInput();\n    this.setState({\n      isVisible: true,\n    });\n  };\n\n  handleRangeInput = (newDates, event) => {\n    const { format, keepOpenOnSelect, onChange, formatOptions } = this.props;\n\n    if (!newDates || !newDates.length) {\n      this.resetState(event);\n\n      return;\n    }\n\n    const newState = {\n      selectedDate: newDates,\n      selectedDateFormatted: formatSelectedDate(\n        newDates,\n        format,\n        formatOptions\n      ),\n      typedValue: null,\n    };\n\n    this.setState(newState, () => {\n      onChange(event, { ...this.props, value: newDates });\n\n      if (newDates.length === 2) {\n        this.setState({ isVisible: keepOpenOnSelect });\n      }\n    });\n  };\n\n  handleBasicInput = (newDate, event) => {\n    const { format, keepOpenOnSelect, onChange, formatOptions } = this.props;\n\n    if (!newDate) {\n      this.resetState(event);\n      return;\n    }\n\n    const newState = {\n      isVisible: keepOpenOnSelect,\n      selectedDate: newDate,\n      selectedDateFormatted: formatSelectedDate(newDate, format, formatOptions),\n      typedValue: null,\n    };\n\n    this.setState(newState, () => {\n      onChange(event, { ...this.props, value: newDate });\n    });\n  };\n\n  handleBlur = (event?: React.SyntheticEvent) => {\n    const { format, onBlur, onChange } = this.props;\n    const { typedValue } = this.state;\n\n    if (event) {\n      onBlur(event);\n    }\n\n    if (!typedValue) {\n      return;\n    }\n\n    if (this.isRangeInput) {\n      const parsedValue = parseRangeOnBlur(String(typedValue), format);\n      const areDatesValid = parsedValue.every(isValid);\n\n      if (areDatesValid) {\n        this.handleRangeInput(parsedValue, event);\n        return;\n      }\n    } else {\n      const parsedValue = parseOnBlur(String(typedValue), format);\n      const isDateValid = isValid(parsedValue);\n\n      if (isDateValid) {\n        this.handleBasicInput(parsedValue, event);\n        return;\n      }\n    }\n\n    this.setState({ typedValue: null }, () => {\n      onChange(event, { ...this.props, value: null });\n    });\n  };\n\n  handleChange = (event: React.SyntheticEvent, { value }) => {\n    const { allowOnlyNumbers, format, onChange } = this.props;\n    const formatString = this.isRangeInput ? `${format} - ${format}` : format;\n    const typedValue = allowOnlyNumbers ? onlyNumbers(value) : value;\n\n    if (!typedValue) {\n      const newState = {\n        selectedDate: this.isRangeInput ? [] : null,\n        selectedDateFormatted: '',\n        typedValue: null,\n      };\n\n      this.setState(newState, () => {\n        onChange(event, { ...this.props, value: null });\n      });\n\n      return;\n    }\n\n    this.setState({\n      selectedDate: this.isRangeInput ? [] : null,\n      selectedDateFormatted: '',\n      typedValue: formatStringByPattern(formatString, typedValue),\n    });\n  };\n\n  handleKeyDown = (evt) => {\n    if (evt.keyCode === keys.enter) {\n      this.handleBlur();\n    }\n  };\n\n  onDateSelected = (event: React.SyntheticEvent | undefined, dateOrDates) => {\n    if (this.isRangeInput) {\n      this.handleRangeInput(dateOrDates, event);\n    } else {\n      this.handleBasicInput(dateOrDates, event);\n    }\n  };\n\n  render() {\n    const {\n      isVisible,\n      locale,\n      selectedDate,\n      selectedDateFormatted,\n      typedValue,\n    } = this.state;\n    const {\n      clearable,\n      pointing,\n      filterDate,\n      inline,\n      inverted,\n      readOnly,\n      datePickerOnly,\n    } = this.props;\n    const datepickerComponent = (\n      <this.Component\n        {...this.dayzedProps}\n        monthsToDisplay={this.isRangeInput ? 2 : 1}\n        onChange={this.onDateSelected}\n        selected={selectedDate}\n        date={this.date}\n      >\n        {(props) => (\n          <Calendar\n            {...this.dayzedProps}\n            {...props}\n            {...locale}\n            filterDate={filterDate}\n            inverted={inverted}\n            pointing={pointing}\n            weekdays={this.weekdays}\n          />\n        )}\n      </this.Component>\n    );\n\n    return inline ? (\n      datepickerComponent\n    ) : (\n      <div className=\"field\" style={style} ref={this.el}>\n        <Input\n          {...this.inputProps}\n          isClearIconVisible={Boolean(clearable && selectedDateFormatted)}\n          onBlur={this.handleBlur}\n          onChange={this.handleChange}\n          onClear={this.clearInput}\n          onFocus={readOnly ? null : this.showCalendar}\n          onKeyDown={this.handleKeyDown}\n          readOnly={readOnly || datePickerOnly}\n          ref={this.inputRef}\n          value={typedValue || selectedDateFormatted}\n        />\n        {isVisible && datepickerComponent}\n      </div>\n    );\n  }\n}\n\nexport default SemanticDatepicker;\n"],"names":["keys","enter","escape","space","isSelectable","date","minDate","maxDate","isBefore","getToday","today","Date","startOfDay","nextMonth","prevMonth","selectable","selected","formatDate","dateFormat","formatOptions","format","convertTokens","undefined","omit","keysToOmit","obj","newObj","forEach","key","pick","keysToPick","moveElementsByN","n","arr","slice","concat","formatSelectedDate","selectedDate","Array","isArray","map","join","parseFormatString","formatString","replace","a","toLowerCase","parseOnBlur","typedValue","parse","parseRangeOnBlur","parsedFormatString","rangeValues","split","value","sort","b","onlyNumbers","getShortDate","composeEventHandlers","fns","event","args","some","fn","defaultPrevented","getArrowKeyHandlers","config","keyCode","left","right","up","down","isInRange","range","length","BaseDatePicker","state","offset","rootNode","React","createRef","handleArrowKeys","getKeyOffset","getRootProps","refKey","rest","_excluded","onKeyDown","_handleOffsetChanged","setState","number","current","activeEl","document","activeElement","buttons","from","querySelectorAll","btn","i","newNodeKey","focus","componentDidUpdate","prevProps","props","render","children","_excluded2","createElement","Dayzed","onOffsetChanged","renderProps","Component","DatePicker","_handleOnDateSelected","clearOnSameDateClick","onChange","newDate","getTime","onDateSelected","RangeDatePicker","hoveredDate","setHoveredDate","onMouseLeave","selectedDates","dateTime","newDates","firstTime","push","unshift","getEnhancedDateProps","getDateProps","dateBounds","onMouseEnter","onFocus","restProps","dateObj","inRange","start","isSameDay","end","hovered","onHoverFocusDate","getEnhancedRootProps","compareAsc","bind","defaultProps","CustomButton","icon","otherProps","Button","basic","compact","CalendarCell","inverted","className","cn","tabIndex","disabled","style","marginTop","TodayButton","ariaLabel","fluid","styles","leftBtn","textAlign","rightBtn","pointings","Calendar","calendars","filterDate","getBackProps","getForwardProps","inline","months","nextYear","previousMonth","previousYear","showToday","todayButton","weekdays","pointing","rootRef","ref","rootProps","pressedBtnRef","useRef","onPressBtn","evt","target","getAttribute","useEffect","selector","prevBtn","querySelector","Ref","innerRef","Segment","calendar","calendarIdx","year","month","Fragment","title","onClick","marginRight","weekday","weeks","week","weekIdx","shortDate","getDate","CustomIcon","clearIcon","isClearIconVisible","onClear","isValidElement","cloneElement","SUIIcon","link","name","inputData","CustomInput","forwardRef","error","label","required","Form","Field","htmlFor","id","Input","input","display","position","semanticInputProps","SemanticDatepicker","el","inputRef","initialState","isRangeInput","BasicDatePicker","resetState","keepOpenOnClear","newState","isVisible","selectedDateFormatted","focusOnInput","clearInput","mousedownCb","mousedownEvent","contains","close","keydownCb","keydownEvent","window","removeEventListener","showCalendar","addEventListener","handleRangeInput","keepOpenOnSelect","handleBasicInput","handleBlur","onBlur","parsedValue","String","areDatesValid","every","isValid","isDateValid","handleChange","allowOnlyNumbers","formatStringByPattern","handleKeyDown","dateOrDates","locale","isEqual","clearable","readOnly","datePickerOnly","datepickerComponent","dayzedProps","monthsToDisplay","inputProps","Boolean","type","initialSelectedDate","placeholder","localeJson","require","e","console","warn","firstDayOfWeek","autoFocus","showOutsideDays"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQO,IAAMA,IAAI,GAAG;AAClBC,EAAAA,KAAK,EAAE,EADW;AAElBC,EAAAA,MAAM,EAAE,EAFU;AAGlBC,EAAAA,KAAK,EAAE,EAAA;AAHW,CAAb,CAAA;AAMA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAaC,OAAb,EAA6BC,OAA7B,EAA+C;AACzE,EAAA,IACGD,OAAO,IAAIE,QAAQ,CAACH,IAAD,EAAOC,OAAP,CAApB,IACCC,OAAO,IAAIC,QAAQ,CAACD,OAAD,EAAUF,IAAV,CAFtB,EAGE;AACA,IAAA,OAAO,KAAP,CAAA;AACD,GAAA;;AAED,EAAA,OAAO,IAAP,CAAA;AACD,CATM,CAAA;AAWA,IAAMI,QAAQ,GAAG,SAAXA,QAAW,CAACH,OAAD,EAAiBC,OAAjB,EAA4C;AAClE,EAAA,IAAMG,KAAK,GAAG,IAAIC,IAAJ,EAAd,CAAA;AAEA,EAAO,OAAA;AACLN,IAAAA,IAAI,EAAEO,UAAU,CAACF,KAAD,CADX;AAELG,IAAAA,SAAS,EAAE,KAFN;AAGLC,IAAAA,SAAS,EAAE,KAHN;AAILC,IAAAA,UAAU,EAAEX,YAAY,CAACM,KAAD,EAAQJ,OAAR,EAAiBC,OAAjB,CAJnB;AAKLS,IAAAA,QAAQ,EAAE,KALL;AAMLN,IAAAA,KAAK,EAAE,IAAA;AANF,GAAP,CAAA;AAQD,CAXM,CAAA;AAaA,IAAMO,UAAU,GAAG,SAAbA,UAAa,CACxBZ,IADwB,EAExBa,UAFwB,EAGxBC,aAHwB,EAAA;AAAA,EAAA,OAKxBd,IAAI,GACAe,MAAM,CAACR,UAAU,CAACP,IAAD,CAAX,EAAmBgB,aAAa,CAACH,UAAD,CAAhC,EAA8CC,aAA9C,CADN,GAEAG,SAPoB,CAAA;AAAA,CAAnB,CAAA;AASA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,UAAD,EAAuBC,GAAvB,EAAsC;AACxD,EAAMC,IAAAA,MAAM,GAAQD,QAAAA,CAAAA,EAAAA,EAAAA,GAAR,CAAZ,CAAA;;AAEAD,EAAAA,UAAU,CAACG,OAAX,CAAmB,UAACC,GAAD,EAAA;AAAA,IAAA,OAAS,OAAOF,MAAM,CAACE,GAAD,CAAtB,CAAA;AAAA,GAAnB,CAAA,CAAA;AAEA,EAAA,OAAOF,MAAP,CAAA;AACD,CANM,CAAA;AAQA,IAAMG,IAAI,GAAG,SAAPA,IAAO,CAACC,UAAD,EAAuBL,GAAvB,EAAsC;AACxD,EAAMC,IAAAA,MAAM,GAAW,EAAvB,CAAA;AAEAI,EAAAA,UAAU,CAACH,OAAX,CAAmB,UAACC,GAAD,EAAQ;AACzBF,IAAAA,MAAM,CAACE,GAAD,CAAN,GAAcH,GAAG,CAACG,GAAD,CAAjB,CAAA;AACD,GAFD,CAAA,CAAA;AAIA,EAAA,OAAOF,MAAP,CAAA;AACD,CARM,CAAA;AAUA,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAAIC,CAAJ,EAAeC,GAAf,EAAA;AAAA,EAAA,OAC7BA,GAAG,CAACC,KAAJ,CAAUF,CAAV,EAAaG,MAAb,CAAoBF,GAAG,CAACC,KAAJ,CAAU,CAAV,EAAaF,CAAb,CAApB,CAD6B,CAAA;AAAA,CAAxB,CAAA;AAGA,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAChCC,YADgC,EAEhCnB,UAFgC,EAGhCC,aAHgC,EAI9B;AACF,EAAI,IAAA,CAACkB,YAAL,EAAmB;AACjB,IAAA,OAAO,EAAP,CAAA;AACD,GAAA;;AAED,EAAOC,OAAAA,KAAK,CAACC,OAAN,CAAcF,YAAd,CACHA,GAAAA,YAAY,CACTG,GADH,CACO,UAACnC,IAAD,EAAA;AAAA,IAAA,OAAUY,UAAU,CAACZ,IAAD,EAAOa,UAAP,EAAmBC,aAAnB,CAApB,CAAA;AAAA,GADP,CAEGsB,CAAAA,IAFH,CAEQ,KAFR,CADG,GAIHxB,UAAU,CAACoB,YAAD,EAAenB,UAAf,EAA2BC,aAA3B,CAJd,CAAA;AAKD,CAdM,CAAA;AAgBA,IAAMuB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,YAAD,EAAA;AAAA,EAAA,OAC/BA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,UAACC,CAAD,EAAA;AAAA,IAAOA,OAAAA,CAAC,CAACC,WAAF,EAAP,CAAA;AAAA,GAAjC,CAD+B,CAAA;AAAA,CAA1B,CAAA;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,UAAD,EAAqBL,YAArB,EAA6C;AACtE,EAAA,OAAOM,KAAK,CAACD,UAAD,EAAaN,iBAAiB,CAACC,YAAD,CAA9B,EAA8C,IAAIhC,IAAJ,EAA9C,CAAZ,CAAA;AACD,CAFM,CAAA;AAIA,IAAMuC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACF,UAAD,EAAqBL,YAArB,EAA6C;AAC3E,EAAA,IAAMQ,kBAAkB,GAAGT,iBAAiB,CAACC,YAAD,CAA5C,CAAA;AAEA,EAAA,IAAMS,WAAW,GAAGJ,UAAU,CAACK,KAAX,CAAiB,KAAjB,CAApB,CAAA;AAEA,EAAA,OAAOD,WAAW,CACfZ,GADI,CACA,UAACc,KAAD,EAAA;AAAA,IAAWL,OAAAA,KAAK,CAACK,KAAD,EAAQH,kBAAR,EAA4B,IAAIxC,IAAJ,EAA5B,CAAhB,CAAA;AAAA,GADA,EAEJ4C,IAFI,CAEC,UAACV,CAAD,EAAIW,CAAJ,EAAA;AAAA,IAAA,OAAWX,CAAC,GAAGW,CAAJ,GAAQ,CAAR,GAAY,CAAC,CAAxB,CAAA;AAAA,GAFD,CAAP,CAAA;AAGD,CARM,CAAA;AAUA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACH,KAAD,EAAA;AAAA,EAAA,IAACA,KAAD,KAAA,KAAA,CAAA,EAAA;AAACA,IAAAA,KAAD,GAAS,EAAT,CAAA;AAAA,GAAA;;AAAA,EAAA,OAAgBA,KAAK,CAACV,OAAN,CAAc,QAAd,EAAwB,EAAxB,CAAhB,CAAA;AAAA,CAApB,CAAA;AAED,SAAUc,YAAV,CAAuBrD,IAAvB,EAAkC;AACtC,EAAI,IAAA,CAACA,IAAL,EAAW;AACT,IAAA,OAAOiB,SAAP,CAAA;AACD,GAAA;;AAED,EAAA,OAAOF,MAAM,CAACf,IAAD,EAAO,YAAP,CAAb,CAAA;AACD;;AC7GD;;;;;;;AAOG;AACa,SAAAsD,oBAAA,GAA2B;AAAA,EAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAHC,GAAG,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAAHA,IAAAA,GAAG,CAAA,IAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;AAAA,GAAA;;AACzC,EAAA,OAAO,UAACC,KAAD,EAAA;AAAA,IAAA,KAAA,IAAA,KAAA,GAAA,SAAA,CAAA,MAAA,EAAWC,IAAX,GAAA,IAAA,KAAA,CAAA,KAAA,GAAA,CAAA,GAAA,KAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,EAAA,KAAA,EAAA,EAAA;AAAWA,MAAAA,IAAX,CAAA,KAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,KAAA,CAAA,CAAA;AAAA,KAAA;;AAAA,IAAA,OACLF,GAAG,CAACG,IAAJ,CAAS,UAACC,EAAD,EAAO;AACd,MAAA,IAAIA,EAAJ,EAAQ;AACNA,QAAAA,EAAE,CAAA,KAAF,CAAGH,KAAAA,CAAAA,EAAAA,CAAAA,KAAH,SAAaC,IAAb,CAAA,CAAA,CAAA;AACD,OAAA;;AAED,MAAOD,OAAAA,KAAK,CAACI,gBAAb,CAAA;AACD,KAND,CADK,CAAA;AAAA,GAAP,CAAA;AAQD,CAAA;AAED;;;;;AAKG;;AACG,SAAUC,mBAAV,CAA8BC,MAA9B,EAAoC;AACxC,EAAO,OAAA,UAACN,KAAD,EAAU;AACf,IAAA,IAAQO,OAAR,GAAoBP,KAApB,CAAQO,OAAR,CAAA;AACA,IAAA,IAAMJ,EAAE,GAAG;AACT,MAAIG,EAAAA,EAAAA,MAAM,CAACE,IADF;AAET,MAAIF,EAAAA,EAAAA,MAAM,CAACG,KAFF;AAGT,MAAIH,EAAAA,EAAAA,MAAM,CAACI,EAHF;AAIT,MAAA,EAAA,EAAIJ,MAAM,CAACK,IAAAA;AAJF,KAAA,CAKTJ,OALS,CAAX,CAAA;;AAMA,IAAA,IAAIJ,EAAJ,EAAQ;AACNA,MAAAA,EAAE,CAACH,KAAD,CAAF,CAAA;AACD,KAAA;AACF,GAXD,CAAA;AAYD,CAAA;AAED;;;;;AAKG;;AACa,SAAAY,SAAA,CAAUC,KAAV,EAAiBrE,IAAjB,EAAqB;AACnC,EAAA,OAAOqE,KAAK,CAACC,MAAN,KAAiB,CAAjB,IAAsBD,KAAK,CAAC,CAAD,CAAL,IAAYrE,IAAlC,IAA0CqE,KAAK,CAAC,CAAD,CAAL,IAAYrE,IAA7D,CAAA;AACD;;;;;IC3CKuE;;;;;;;;;;;AACJC,IAAAA,KAAAA,CAAAA,QAAQ;AACNC,MAAAA,MAAM,EAAE,CAAA;AADF;AAIRC,IAAAA,KAAAA,CAAAA,WAAWC,KAAK,CAACC,SAAN;UAEXC,kBAAkBhB,mBAAmB,CAAC;AACpCG,MAAAA,IAAI,EAAE,SAAA,IAAA,GAAA;AAAA,QAAA,OAAM,KAAKc,CAAAA,YAAL,CAAkB,CAAC,CAAnB,CAAN,CAAA;AAAA,OAD8B;AAEpCb,MAAAA,KAAK,EAAE,SAAA,KAAA,GAAA;AAAA,QAAA,OAAM,KAAKa,CAAAA,YAAL,CAAkB,CAAlB,CAAN,CAAA;AAAA,OAF6B;AAGpCZ,MAAAA,EAAE,EAAE,SAAA,EAAA,GAAA;AAAA,QAAA,OAAM,KAAKY,CAAAA,YAAL,CAAkB,CAAC,CAAnB,CAAN,CAAA;AAAA,OAHgC;AAIpCX,MAAAA,IAAI,EAAE,SAAA,IAAA,GAAA;AAAA,QAAA,OAAM,KAAKW,CAAAA,YAAL,CAAkB,CAAlB,CAAN,CAAA;AAAA,OAAA;AAJ8B,KAAD;;AAoCrCC,IAAAA,KAAAA,CAAAA,eAAe,UAAqC,KAAA,EAAA;AAAA,MAAA,IAAA,SAAA,CAAA;;AAAA,MAAA,IAAA,IAAA,GAAA,KAAA,KAAA,KAAA,CAAA,GAAN,EAAM,GAAA,KAAA;AAAA,UAAA,WAAA,GAAA,IAAA,CAAlCC,MAAkC;AAAA,UAAlCA,MAAkC,4BAAzB,KAAyB,GAAA,WAAA;AAAA,UAAfC,IAAe,GAAA,6BAAA,CAAA,IAAA,EAAAC,WAAA,CAAA,CAAA;;AAClD,MACGF,OAAAA,QAAAA,EAAAA,SAAAA,GAAAA,EAAAA,EAAAA,SAAAA,CAAAA,MADH,CACY,GAAA,KAAA,CAAKN,QADjB,EAAA,SAAA,CAEES,SAFF,GAEa,KAAA,CAAKN,eAFlB,EAAA,SAAA,GAGKI,IAHL,CAAA,CAAA;AAKD;;UAEDG,uBAAuB,UAACX,MAAD,EAAmB;AACxC,MAAA,KAAA,CAAKY,QAAL,CAAc;AACZZ,QAAAA,MAAM,EAANA,MAAAA;AADY,OAAd,CAAA,CAAA;AAGD;;;;;;;SAzCDK,eAAA,SAAaQ,YAAAA,CAAAA,MAAb,EAA2B;AACzB,IAAA,IAAI,CAAC,IAAA,CAAKZ,QAAL,CAAca,OAAnB,EAA4B;AAC1B,MAAA,OAAA;AACD,KAAA;;AAED,IAAA,IAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAA1B,CAAA;AACA,IAAA,IAAMC,OAAO,GAAG1D,KAAK,CAAC2D,IAAN,CACd,IAAA,CAAKlB,QAAL,CAAca,OAAd,CAAsBM,gBAAtB,CACE,uBADF,CADc,CAAhB,CAAA;AAMAF,IAAAA,OAAO,CAACjC,IAAR,CAAa,UAACoC,GAAD,EAAMC,CAAN,EAAW;AACtB,MAAA,IAAMC,UAAU,GAAGD,CAAC,GAAGT,MAAvB,CAAA;;AAEA,MAAIQ,IAAAA,GAAG,KAAKN,QAAZ,EAAsB;AACpB,QAAA,OAAO,KAAP,CAAA;AACD,OAAA;;AAED,MAAIQ,IAAAA,UAAU,IAAIL,OAAO,CAACrB,MAAR,GAAiB,CAA/B,IAAoC0B,UAAU,IAAI,CAAtD,EAAyD;AACvDL,QAAAA,OAAO,CAACK,UAAD,CAAP,CAAoBC,KAApB,EAAA,CAAA;AACA,QAAA,OAAO,IAAP,CAAA;AACD,OAAA;;AAEDN,MAAAA,OAAO,CAAC,CAAD,CAAP,CAAWM,KAAX,EAAA,CAAA;AACA,MAAA,OAAO,IAAP,CAAA;AACD,KAdD,CAAA,CAAA;AAeD;;SAgBDC,qBAAA,SAAmBC,kBAAAA,CAAAA,SAAnB,EAAiD;AAC/C,IAAI,IAAA,IAAA,CAAKC,KAAL,CAAWpG,IAAX,KAAoBmG,SAAS,CAACnG,IAAlC,EAAwC;AACtC,MAAKoF,IAAAA,CAAAA,oBAAL,CAA0B,CAA1B,CAAA,CAAA;AACD,KAAA;AACF;;AAEDiB,EAAAA,MAAAA,CAAAA,SAAA,SAAM,MAAA,GAAA;AAAA,IAAA,IAAA,MAAA,GAAA,IAAA,CAAA;;AACJ,IAAA,IAAA,WAAA,GAA8B,KAAKD,KAAnC;AAAA,QAAQE,QAAR,eAAQA,QAAR;AAAA,QAAqBrB,IAArB,GAAA,6BAAA,CAAA,WAAA,EAAAsB,YAAA,CAAA,CAAA;;AAEA,IAAA,OACE5B,KAAA,CAAA6B,aAAA,CAACC,MAAD,eACMxB,IADN,EAAA;AAEER,MAAAA,MAAM,EAAE,IAAKD,CAAAA,KAAL,CAAWC,MAFrB;AAGEiC,MAAAA,eAAe,EAAE,IAAA,CAAKtB,oBAHxB;AAIEiB,MAAAA,MAAM,EAAE,SAAA,MAAA,CAACM,WAAD,EAAA;AAAA,QACNL,OAAAA,QAAQ,cACHK,WADG,EAAA;AAEN5B,UAAAA,YAAY,EAAE,MAAI,CAACA,YAAAA;AAFb,SADF,CAAA,CAAA,CAAA;AAAA,OAAA;AAJV,KADF,CAAA,CAAA,CAAA;AAaD;;;AA/E0BJ,CAAAA,CAAAA,KAAK,CAACiC;;ICD7BC;;;;;;;;;;;;UACJC,wBAAwB,UAEtBtD,IAAAA,EAAAA,KAFsB,EAGpB;AAAA,MAFA9C,IAAAA,UAEA,QAFAA,UAEA;AAAA,UAFYV,IAEZ,QAFYA,IAEZ,CAAA;AACF,MAAA,IAAA,WAAA,GAII,MAAKoG,KAJT;AAAA,UACEW,oBADF,eACEA,oBADF;AAAA,UAEY/E,YAFZ,eAEErB,QAFF;AAAA,UAGEqG,QAHF,eAGEA,QAHF,CAAA;;AAMA,MAAI,IAAA,CAACtG,UAAL,EAAiB;AACf,QAAA,OAAA;AACD,OAAA;;AAED,MAAIuG,IAAAA,OAAO,GAAGjH,IAAd,CAAA;;AACA,MAAA,IACEgC,YAAY,IACZA,YAAY,CAACkF,OAAb,EAAA,KAA2BlH,IAAI,CAACkH,OAAL,EAD3B,IAEAH,oBAHF,EAIE;AACAE,QAAAA,OAAO,GAAG,IAAV,CAAA;AACD,OAAA;;AAED,MAAA,IAAID,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAACxD,KAAD,EAAQyD,OAAR,CAAR,CAAA;AACD,OAAA;AACF;;;;;;;AAEDZ,EAAAA,MAAAA,CAAAA,SAAA,SAAM,MAAA,GAAA;AACJ,IAAA,OACE1B,KAAA,CAAA6B,aAAA,CAACjC,cAAD,EAAA,QAAA,CAAA,EAAA,EACM,KAAK6B,KADX,EAAA;AAEEe,MAAAA,cAAc,EAAE,IAAKL,CAAAA,qBAAAA;AAFvB,KADF,CAAA,CAAA,CAAA;AAMD;;;AApCsBnC,CAAAA,CAAAA,KAAK,CAACiC;;;;;;ICOzBQ;;;;;;;;;;;AAQJ5C,IAAAA,KAAAA,CAAAA,QAAQ;AAAE6C,MAAAA,WAAW,EAAE,IAAA;AAAf;;UAERC,iBAAiB,UAACtH,IAAD,EAAsB;AACrC,MAAKqF,KAAAA,CAAAA,QAAL,CAAc,UAACb,KAAD,EAAA;AAAA,QAAA,OACZA,KAAK,CAAC6C,WAAN,KAAsBrH,IAAtB,GAA6B,IAA7B,GAAoC;AAAEqH,UAAAA,WAAW,EAAErH,IAAAA;AAAf,SADxB,CAAA;AAAA,OAAd,CAAA,CAAA;AAGD;;AAGDuH,IAAAA,KAAAA,CAAAA,eAAe,YAAK;AAClB,MAAKD,KAAAA,CAAAA,cAAL,CAAoB,IAApB,CAAA,CAAA;AACD;;UAWDR,wBAAwB,UAEtBtD,IAAAA,EAAAA,KAFsB,EAGpB;AAAA,MAFA9C,IAAAA,UAEA,QAFAA,UAEA;AAAA,UAFYV,IAEZ,QAFYA,IAEZ,CAAA;AACF,MAAA,IAAA,WAAA,GAA8C,MAAKoG,KAAnD;AAAA,UAAkBoB,aAAlB,eAAQ7G,QAAR;AAAA,UAAiCqG,QAAjC,eAAiCA,QAAjC,CAAA;;AAEA,MAAI,IAAA,CAACtG,UAAL,EAAiB;AACf,QAAA,OAAA;AACD,OAAA;;AAED,MAAA,IAAM+G,QAAQ,GAAGzH,IAAI,CAACkH,OAAL,EAAjB,CAAA;AACA,MAAIQ,IAAAA,QAAQ,GAAOF,EAAAA,CAAAA,MAAAA,CAAAA,aAAP,CAAZ,CAAA;;AACA,MAAIA,IAAAA,aAAa,CAAClD,MAAlB,EAA0B;AACxB,QAAA,IAAIkD,aAAa,CAAClD,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,UAAMqD,IAAAA,SAAS,GAAGH,aAAa,CAAC,CAAD,CAAb,CAAiBN,OAAjB,EAAlB,CAAA;;AACA,UAAIS,IAAAA,SAAS,GAAGF,QAAhB,EAA0B;AACxBC,YAAAA,QAAQ,CAACE,IAAT,CAAc5H,IAAd,CAAA,CAAA;AACD,WAFD,MAEO;AACL0H,YAAAA,QAAQ,CAACG,OAAT,CAAiB7H,IAAjB,CAAA,CAAA;AACD,WAAA;AACF,SAPD,MAOO,IAAI0H,QAAQ,CAACpD,MAAT,KAAoB,CAAxB,EAA2B;AAChCoD,UAAAA,QAAQ,GAAG,CAAC1H,IAAD,CAAX,CAAA;AACD,SAAA;AACF,OAXD,MAWO;AACL0H,QAAAA,QAAQ,CAACE,IAAT,CAAc5H,IAAd,CAAA,CAAA;AACD,OAAA;;AAED,MAAA,IAAIgH,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAACxD,KAAD,EAAQkE,QAAR,CAAR,CAAA;AACD,OAAA;;AAED,MAAA,IAAIA,QAAQ,CAACpD,MAAT,KAAoB,CAAxB,EAA2B;AACzB,QAAKgD,KAAAA,CAAAA,cAAL,CAAoB,IAApB,CAAA,CAAA;AACD,OAAA;AACF;;AAEDQ,IAAAA,KAAAA,CAAAA,uBAAuB,UACrBC,YADqB,EAErBC,UAFqB,EAInB,KAAA,EAAA;AAAA,MADAC,IAAAA,YACA,SADAA,YACA;AAAA,UADcC,OACd,SADcA,OACd;AAAA,UAD0BC,SAC1B,GAAA,6BAAA,CAAA,KAAA,EAAAjD,WAAA,CAAA,CAAA;;AACF,MAAA,IAAQmC,WAAR,GAAwB,KAAK7C,CAAAA,KAA7B,CAAQ6C,WAAR,CAAA;AACA,MAAA,IAAQrH,IAAR,GAAiBmI,SAAS,CAACC,OAA3B,CAAQpI,IAAR,CAAA;AACA,MAAO+H,OAAAA,YAAY,cACdI,SADc,EAAA;AAEjBE,QAAAA,OAAO,EAAEjE,SAAS,CAAC4D,UAAD,EAAahI,IAAb,CAFD;AAGjBsI,QAAAA,KAAK,EAAEN,UAAU,CAAC,CAAD,CAAV,IAAiBO,SAAS,CAACP,UAAU,CAAC,CAAD,CAAX,EAAgBhI,IAAhB,CAHhB;AAIjBwI,QAAAA,GAAG,EAAER,UAAU,CAAC,CAAD,CAAV,IAAiBO,SAAS,CAACP,UAAU,CAAC,CAAD,CAAX,EAAgBhI,IAAhB,CAJd;AAKjB;AACAyI,QAAAA,OAAO,EAAEpB,WAAW,IAAIkB,SAAS,CAAClB,WAAD,EAAcrH,IAAd,CANhB;AAOjBiI,QAAAA,YAAY,EAAE3E,oBAAoB,CAAC2E,YAAD,EAAe,YAAK;AACpD,UAAKS,KAAAA,CAAAA,gBAAL,CAAsB1I,IAAtB,CAAA,CAAA;AACD,SAFiC,CAPjB;AAUjBkI,QAAAA,OAAO,EAAE5E,oBAAoB,CAAC4E,OAAD,EAAU,YAAK;AAC1C,UAAKQ,KAAAA,CAAAA,gBAAL,CAAsB1I,IAAtB,CAAA,CAAA;AACD,SAF4B,CAAA;AAVZ,OAAnB,CAAA,CAAA,CAAA;AAcD;;AAED2I,IAAAA,KAAAA,CAAAA,uBAAuB,UAAC5D,YAAD,EAAeqB,KAAf,EAAA;AAAA,MACrBrB,OAAAA,YAAY,cACPqB,KADO,EAAA;AAEVmB,QAAAA,YAAY,EAAE,KAAKA,CAAAA,YAAAA;AAFT,OADS,CAAA,CAAA,CAAA;AAAA;;;;;;;AApEvB;SACAmB,mBAAA,SAAiB1I,gBAAAA,CAAAA,IAAjB,EAAkC;AAChC,IAAI,IAAA,IAAA,CAAKoG,KAAL,CAAWzF,QAAX,CAAoB2D,MAApB,KAA+B,CAAnC,EAAsC;AACpC,MAAA,OAAA;AACD,KAAA;;AAED,IAAKgD,IAAAA,CAAAA,cAAL,CAAoBtH,IAApB,CAAA,CAAA;AACD;;AAmEDqG,EAAAA,MAAAA,CAAAA,SAAA,SAAM,MAAA,GAAA;AAAA,IAAA,IAAA,MAAA,GAAA,IAAA,CAAA;;AACJ,IAAA,IAAA,YAAA,GAA8B,KAAKD,KAAnC;AAAA,QAAQE,QAAR,gBAAQA,QAAR;AAAA,QAAqBrB,IAArB,GAAA,6BAAA,CAAA,YAAA,EAAA,UAAA,CAAA,CAAA;;AACA,IAAA,IAAQoC,WAAR,GAAwB,IAAK7C,CAAAA,KAA7B,CAAQ6C,WAAR,CAAA;AACA,IAAA,IAAQ1G,QAAR,GAAqB,IAAKyF,CAAAA,KAA1B,CAAQzF,QAAR,CAAA;AAEA,IAAA,IAAMqH,UAAU,GACdrH,QAAQ,CAAC2D,MAAT,KAAoB,CAApB,IAAyB,CAAC3D,QAAQ,CAAC2D,MAAnC,IAA6C,CAAC+C,WAA9C,GACI1G,QADJ;AAGI;AACA,IAACA,CAAAA,QAAQ,CAAC,CAAD,CAAT,EAAc0G,WAAd,CAA2BnE,CAAAA,IAA3B,CAAgC0F,UAAhC,CALN,CAAA;AAOA,IAAA,OACEjE,KAAC,CAAA6B,aAAD,CAACjC,cAAD,eAAoBU,IAApB,EAAA;AAA0BkC,MAAAA,cAAc,EAAE,IAAKL,CAAAA,qBAAAA;AAA/C,KACG,CAAA,EAAA,UAAA,KAAA,EAAA;AAAA,MAAG/B,IAAAA,YAAH,SAAGA,YAAH;AAAA,UAAiBgD,YAAjB,SAAiBA,YAAjB;AAAA,UAAkCpB,WAAlC,GAAA,6BAAA,CAAA,KAAA,EAAA,UAAA,CAAA,CAAA;;AAAA,MACCL,OAAAA,QAAQ,cACHK,WADG,EAAA;AAEN5B,QAAAA,YAAY,EAAE,MAAI,CAAC4D,oBAAL,CAA0BE,IAA1B,CAA+B,MAA/B,EAAqC9D,YAArC,CAFR;AAGNgD,QAAAA,YAAY,EAAE,MAAI,CAACD,oBAAL,CAA0Be,IAA1B,CACZ,MADY,EAEZd,YAFY,EAGZC,UAHY,CAAA;AAHR,OADT,CAAA,CAAA,CAAA;AAAA,KADH,CADF,CAAA;AAeD;;;AA1H2BrD,CAAAA,CAAAA,KAAK,CAACiC;;AAA9BQ,gBAIG0B,eAAe;AACpBnI,EAAAA,QAAQ,EAAE,EAAA;AADU;;;;ACZxB,IAAMoI,YAAY,GAAG,SAAfA,YAAe,CAAA,IAAA,EAAA;AAAA,EAAGC,IAAAA,IAAH,QAAGA,IAAH;AAAA,MAAYC,UAAZ,GAAA,6BAAA,CAAA,IAAA,EAAA/D,WAAA,CAAA,CAAA;;AAAA,EAAA,OACnBP,KAAC,CAAA6B,aAAD,CAAC0C,MAAD,EAAA,QAAA,CAAA;AAAQC,IAAAA,KAAK,EAAC,IAAd;AAAcC,IAAAA,OAAO,EAAC,IAAtB;AAAsBJ,IAAAA,IAAI,EAAEA,IAAAA;AAA5B,GAAA,EAAsCC,UAAtC,CADmB,CAAA,CAAA;AAAA,CAArB;;ACHA,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;AAC/B,EAAE,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;AACjC,EAAE,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;AAC9B;AACA,EAAE,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;AAC1D;AACA,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACvE,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,EAAE,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;AAC1B;AACA,EAAE,IAAI,QAAQ,KAAK,KAAK,EAAE;AAC1B,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;AACzB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;AAChD,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC9B,KAAK;AACL,GAAG,MAAM;AACT,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC5B,GAAG;AACH;AACA,EAAE,IAAI,KAAK,CAAC,UAAU,EAAE;AACxB,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;AACnC,GAAG,MAAM;AACT,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;AACpD,GAAG;AACH;;;;;;;ACPA,IAAMI,YAAY,GAAgC,SAA5CA,YAA4C,CAa7C,IAAA,EAAA;AAAA,EAZH/C,IAAAA,QAYG,QAZHA,QAYG,CAAA;AAAA,MATH+B,OASG,QATHA,OASG,CAAA;AAAA,MARHiB,QAQG,QARHA,QAQG,CAAA;AAAA,MAPH9I,SAOG,QAPHA,SAOG,CAAA;AAAA,MANHC,SAMG,QANHA,SAMG,CAAA;AAAA,MALHC,UAKG,QALHA,UAKG,CAAA;AAAA,MAJHC,QAIG,QAJHA,QAIG,CAAA;AAAA,MAFHN,KAEG,QAFHA,KAEG,CAAA;AAAA,MADA4I,UACA,GAAA,6BAAA,CAAA,IAAA,EAAA/D,WAAA,EAAA;;AACH,EAAA,IAAMqE,SAAS,GAAGC,EAAE,CAAC,YAAD,EAAe;AACjCF,IAAAA,QAAQ,EAARA,QADiC;AAEjC,IAAA,kBAAA,EAAoBjJ,KAFa;AAGjC,IAAA,qBAAA,EAAuB,CAACK,UAHS;AAIjC,IAA0BF,wBAAAA,EAAAA,SAAS,IAAIC,SAJN;AAKjC,IAAA,oBAAA,EAAsB4H,OALW;AAMjC,IAAuB1H,qBAAAA,EAAAA,QAAAA;AANU,GAAf,CAApB,CAAA;;AASA,EAAI,IAAA,CAAC2F,QAAL,EAAe;AACb,IAAA,OACE3B,KAAM,CAAA6B,aAAN,CAAM,MAAN,EAAA,QAAA,CAAA;AAAM+C,MAAAA,SAAS,EAAEA,SAAjB;AAA4BE,MAAAA,QAAQ,EAAEnD,QAAQ,GAAG,CAAH,GAAO,CAAC,CAAA;AAAtD,KAA6D2C,EAAAA,UAA7D,CACG3C,EAAAA,QADH,CADF,CAAA;AAKD,GAAA;;AAED,EAAA,OACE3B,KAAQ,CAAA6B,aAAR,CAAQ,QAAR,EAAA,QAAA,CAAA;AAAQ+C,IAAAA,SAAS,EAAEA,SAAnB;AAA8BG,IAAAA,QAAQ,EAAE,CAAChJ,UAAAA;AAAzC,GAAyDuI,EAAAA,UAAzD,CACG3C,EAAAA,QADH,CADF,CAAA;AAKD,CApCD,CAAA;;AAsCA+C,YAAY,CAACP,YAAb,GAA4B;AAC1BN,EAAAA,GAAG,EAAE,KADqB;AAE1BC,EAAAA,OAAO,EAAE,KAFiB;AAG1BJ,EAAAA,OAAO,EAAE,KAHiB;AAI1B7H,EAAAA,SAAS,EAAE,KAJe;AAK1BC,EAAAA,SAAS,EAAE,KALe;AAM1B6H,EAAAA,KAAK,EAAE,KAAA;AANmB,CAA5B;;;AC7CA,IAAMqB,OAAK,GAAwB;AAAEC,EAAAA,SAAS,EAAE,EAAA;AAAb,CAAnC,CAAA;;AAEA,IAAMC,WAAW,GAA+B,SAA1CA,WAA0C,CAAA,IAAA,EAAA;AAAA,EAChCC,IAAAA,SADgC,QAC9C,YAD8C,CAAA,CAAA;AAAA,MAE9CxD,QAF8C,QAE9CA,QAF8C,CAAA;AAAA,MAY3C2C,UAZ2C,GAAA,6BAAA,CAAA,IAAA,EAAA/D,WAAA,EAAA;;AAAA,EAAA,OAc9CP,KAAC,CAAA6B,aAAD,CAAC0C,MAAD,EAAA,QAAA,CAAA;AACc,IAAGY,YAAAA,EAAAA,SAAH,UAAiBxD,QAD/B;AAEEiD,IAAAA,SAAS,EAAC,oBAFZ;AAGEH,IAAAA,OAAO,EAAA,IAHT;AAGS,IAAA,aAAA,EACK,yBAJd;AAKEW,IAAAA,KAAK,EAAA,IALP;AAMEJ,IAAAA,KAAK,EAAEA,OAAAA;AANT,GAOMV,EAAAA,UAPN,CASG3C,EAAAA,QATH,CAd8C,CAAA;AAAA,CAAhD;;;;;;ACeA,IAAM0D,MAAM,GAA2C;AACrDC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,SAAS,EAAE,OAAA;AAAb,GAD4C;AAErDC,EAAAA,QAAQ,EAAE;AAAED,IAAAA,SAAS,EAAE,KAAA;AAAb,GAAA;AAF2C,CAAvD,CAAA;AAKA,IAAME,SAAS,GAAG;AAChB,EAAA,UAAA,EAAY,sBADI;AAEhB,EAAA,WAAA,EAAa,uBAFG;AAGhBpG,EAAAA,IAAI,EAAE,YAHU;AAIhBC,EAAAA,KAAK,EAAE,aAAA;AAJS,CAAlB,CAAA;;AAOA,IAAMoG,QAAQ,GAA4B,SAApCA,QAAoC,CAoBrC,IAAA,EAAA;AAAA,EAAA,IAAA,GAAA,CAAA;;AAAA,EAnBHC,IAAAA,SAmBG,QAnBHA,SAmBG;AAAA,MAlBHC,UAkBG,QAlBHA,UAkBG;AAAA,MAjBHC,YAiBG,QAjBHA,YAiBG;AAAA,MAhBHzC,YAgBG,QAhBHA,YAgBG;AAAA,MAfH0C,eAeG,QAfHA,eAeG;AAAA,MAdH1F,YAcG,QAdHA,YAcG;AAAA,MAbH2F,MAaG,QAbHA,MAaG;AAAA,MAZHpB,QAYG,QAZHA,QAYG;AAAA,MAXHpJ,OAWG,QAXHA,OAWG;AAAA,MAVHD,OAUG,QAVHA,OAUG;AAAA,MATH0K,MASG,QATHA,MASG;AAAA,MARHnK,SAQG,QARHA,SAQG;AAAA,MAPHoK,QAOG,QAPHA,QAOG;AAAA,MANHC,aAMG,QANHA,aAMG;AAAA,MALHC,YAKG,QALHA,YAKG;AAAA,MAJHC,SAIG,QAJHA,SAIG;AAAA,MAHHC,WAGG,QAHHA,WAGG;AAAA,MAFHC,QAEG,QAFHA,QAEG;AAAA,MADHC,QACG,QADHA,QACG,CAAA;;AACH,EAAA,IAAA,aAAA,GAAuCnG,YAAY,EAAnD;AAAA,MAAaoG,OAAb,iBAAQC,GAAR;AAAA,MAAyBC,SAAzB,GAAA,6BAAA,CAAA,aAAA,EAAAnG,WAAA,CAAA,CAAA;;AACA,EAAMoG,IAAAA,aAAa,GAAGC,MAAM,EAA5B,CAAA;;AACA,EAAA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAwB;AACzCH,IAAAA,aAAa,CAAC/F,OAAd,GAAyBkG,GAAG,CAACC,MAAJ,CAAiCC,YAAjC,CACvB,YADuB,CAAzB,CAAA;AAGD,GAJD,CAAA;;AAMAC,EAAAA,SAAS,CAAC,YAAK;AACb,IAAIN,IAAAA,aAAa,CAAC/F,OAAlB,EAA2B;AACzB,MAAA,IAAMsG,QAAQ,GAAA,gBAAA,GAAmBP,aAAa,CAAC/F,OAAjC,GAAd,KAAA,CAAA;AACA,MAAA,IAAMuG,OAAO,GAAGrG,QAAQ,CAACsG,aAAT,CAA0CF,QAA1C,CAAhB,CAAA;;AAEA,MAAA,IAAIC,OAAO,IAAIrG,QAAQ,CAACC,aAAT,KAA2BoG,OAA1C,EAAmD;AACjDA,QAAAA,OAAO,CAAC7F,KAAR,EAAA,CAAA;AACD,OAAA;AACF,KAAA;AACF,GATQ,CAAT,CAAA;AAWA,EAAA,OACEtB,KAAC,CAAA6B,aAAD,CAACwF,GAAD,EAAK;AAAAC,IAAAA,QAAQ,EAAEd,OAAAA;AAAV,GAAL,EACExG,KAAA,CAAA6B,aAAA,CAAC0F,OAAD,eACMb,SADN,EAAA;AAEE/B,IAAAA,QAAQ,EAAEA,QAFZ;AAGEC,IAAAA,SAAS,EAAEC,EAAE,CAAC,yBAAD,GAAA,GAAA,GAAA;AACX,MAAA,gBAAA,EAAkB,CAACkB,MAAAA;AADR,KAAA,EAAA,GAAA,CAEVN,SAAS,CAACc,QAAD,CAFC,CAAA,GAEY,CAACR,MAFb,EAAA,GAAA,EAAA;AAHf,GAAA,CAAA,EAQE/F,KAAA,CAAA6B,aAAA,CAAA,KAAA,EAAA;AACE+C,IAAAA,SAAS,EAAC,yBADZ;AAEEI,IAAAA,KAAK,EAAE;AAAE,MAAA,KAAA,EAAOW,SAAS,CAAChG,MAAAA;AAAnB,KAAA;AAFT,GAAA,EAIGgG,SAAS,CAACnI,GAAV,CAAc,UAACgK,QAAD,EAAWC,WAAX,EAAA;AAAA,IAAA,OACbzH,KAAK,CAAA6B,aAAL,CAAK,KAAL,EAAK;AAAAjF,MAAAA,GAAG,EAAK4K,QAAQ,CAACE,IAAd,GAAA,GAAA,GAAsBF,QAAQ,CAACG,KAAAA;AAAlC,KAAL,EACE3H,KAAK,CAAA6B,aAAL,CAAK,KAAL,EAAK;AAAA+C,MAAAA,SAAS,EAAC,eAAA;AAAV,KAAL,EACE5E,KAAA,CAAA6B,aAAA,CAAA,KAAA,EAAA;AAAKmD,MAAAA,KAAK,EAAEK,MAAM,CAACC,OAAAA;AAAnB,KAAA,EACGmC,WAAW,KAAK,CAAhB,IACCzH,KAAA,CAAA6B,aAAA,CAAC+F,QAAD,EAAS,IAAT,EACE5H,KAAA,CAAA6B,aAAA,CAAC0C,YAAD,EAAA,QAAA,CAAA;AACEF,MAAAA,IAAI,EAAC,mBADP;AAEEM,MAAAA,QAAQ,EAAEA,QAFZ;AAGEkD,MAAAA,KAAK,EAAE1B,YAAAA;AAHT,KAAA,EAIMN,YAAY,CAAC;AACfF,MAAAA,SAAS,EAATA,SADe;AAEf,MAAA,YAAA,EAAcQ,YAFC;AAGfrG,MAAAA,MAAM,EAAE,EAHO;AAIfgI,MAAAA,OAAO,EAAEjB,UAAAA;AAJM,KAAD,CAJlB,CADF,CAAA,EAYE7G,KAAC,CAAA6B,aAAD,CAAC0C,YAAD,EAAA,QAAA,CAAA;AACEF,MAAAA,IAAI,EAAC,YADP;AAEEM,MAAAA,QAAQ,EAAEA,QAFZ;AAGEK,MAAAA,KAAK,EAAE;AAAE+C,QAAAA,WAAW,EAAE,CAAA;AAAf,OAHT;AAIEF,MAAAA,KAAK,EAAE3B,aAAAA;AAJT,KAAA,EAKML,YAAY,CAAC;AACfF,MAAAA,SAAS,EAATA,SADe;AAEf,MAAA,YAAA,EAAcO,aAFC;AAGf4B,MAAAA,OAAO,EAAEjB,UAAAA;AAHM,KAAD,CALlB,CAZF,CAAA,CAFJ,CADF,EA8BE7G,KAAA,CAAA6B,aAAA,CAAA,MAAA,EAAA;AAAMgG,MAAAA,KAAK,EAAK7B,MAAM,CAACwB,QAAQ,CAACG,KAAV,CAAX,GAA+BH,GAAAA,GAAAA,QAAQ,CAACE,IAAAA;AAAnD,KAAA,EACG1B,MAAM,CAACwB,QAAQ,CAACG,KAAV,CAAN,CAAuBzK,KAAvB,CAA6B,CAA7B,EAAgC,CAAhC,CADH,KAAA,EACwCsK,QAAQ,CAACE,IADjD,CA9BF,EAkCE1H,KAAA,CAAA6B,aAAA,CAAA,KAAA,EAAA;AAAKmD,MAAAA,KAAK,EAAEK,MAAM,CAACG,QAAAA;AAAnB,KAAA,EACGiC,WAAW,KAAK9B,SAAS,CAAChG,MAAV,GAAmB,CAAnC,IACCK,mBAAA,CAAC4H,QAAD,EAAS,IAAT,EACE5H,KAAA,CAAA6B,aAAA,CAAC0C,YAAD,EAAA,QAAA,CAAA;AACEF,MAAAA,IAAI,EAAC,aADP;AAEEM,MAAAA,QAAQ,EAAEA,QAFZ;AAGEkD,MAAAA,KAAK,EAAEhM,SAAAA;AAHT,KAAA,EAIMiK,eAAe,CAAC;AAClBH,MAAAA,SAAS,EAATA,SADkB;AAElB,MAAA,YAAA,EAAc9J,SAFI;AAGlBiM,MAAAA,OAAO,EAAEjB,UAAAA;AAHS,KAAD,CAJrB,CADF,CAAA,EAWE7G,KAAC,CAAA6B,aAAD,CAAC0C,YAAD,EAAA,QAAA,CAAA;AACEF,MAAAA,IAAI,EAAC,oBADP;AAEEM,MAAAA,QAAQ,EAAEA,QAFZ;AAGEK,MAAAA,KAAK,EAAE;AAAE+C,QAAAA,WAAW,EAAE,CAAA;AAAf,OAHT;AAIEF,MAAAA,KAAK,EAAE5B,QAAAA;AAJT,KAAA,EAKMH,eAAe,CAAC;AAClBH,MAAAA,SAAS,EAATA,SADkB;AAElB,MAAA,YAAA,EAAcM,QAFI;AAGlBnG,MAAAA,MAAM,EAAE,EAHU;AAIlBgI,MAAAA,OAAO,EAAEjB,UAAAA;AAJS,KAAD,CALrB,CAXF,CAAA,CAFJ,CAlCF,CADF,EAgEE7G,KAAK,CAAA6B,aAAL,CAAK,KAAL,EAAK;AAAA+C,MAAAA,SAAS,EAAC,YAAA;AAAV,KAAL,EACG0B,QAAQ,CAAC9I,GAAT,CAAa,UAACwK,OAAD,EAAA;AAAA,MAAA,OACZhI,KAAA,CAAA6B,aAAA,CAAC6C,YAAD,EACE;AAAA9H,QAAAA,GAAG,EAAK4K,QAAQ,CAACE,IAAd,SAAsBF,QAAQ,CAACG,KAA/B,GAAA,GAAA,GAAwCK,OAA3C;AACArD,QAAAA,QAAQ,EAAEA,QADV;sBAEYqD,OAFZ;AAGAH,QAAAA,KAAK,EAAEG,OAAAA;AAHP,OADF,EAMGA,OAAO,CAAC9K,KAAR,CAAc,CAAd,EAAiB,CAAjB,CANH,CADY,CAAA;AAAA,KAAb,CADH,EAWGsK,QAAQ,CAACS,KAAT,CAAezK,GAAf,CAAmB,UAAC0K,IAAD,EAAA;AAAA,MAClBA,OAAAA,IAAI,CAAC1K,GAAL,CAAS,UAACiG,OAAD,EAAU0E,OAAV,EAAqB;AAC5B,QAAMvL,IAAAA,GAAG,GAAM4K,QAAQ,CAACE,IAAf,SAAuBF,QAAQ,CAACG,KAAhC,GAAA,GAAA,GAAyCQ,OAAlD,CAAA;;AAEA,QAAI,IAAA,CAAC1E,OAAL,EAAc;AACZ,UAAA,OAAOzD,KAAA,CAAA6B,aAAA,CAAC6C,YAAD,EAAa;AAAC9H,YAAAA,GAAG,EAAEA,GAAN;AAAW+H,YAAAA,QAAQ,EAAEA,QAAAA;AAArB,WAAb,CAAP,CAAA;AACD,SAAA;;AAED,QAAM5I,IAAAA,UAAU,GACd0H,OAAO,CAAC1H,UAAR,IAAsB6J,UAAU,CAACnC,OAAO,CAACpI,IAAT,CADlC,CAAA;AAEA,QAAA,IAAM+M,SAAS,GAAG1J,YAAY,CAAC+E,OAAO,CAACpI,IAAT,CAA9B,CAAA;AAEA,QAAA,OACE2E,KAAC,CAAA6B,aAAD,CAAC6C,YAAD,EAAA,QAAA,CAAA;AACE9H,UAAAA,GAAG,EAAEA,GAAAA;AADP,SAEM6G,EAAAA,OAFN,EAGML,YAAY,CAAC;AACfK,UAAAA,OAAO,eAAOA,OAAP,EAAA;AAAgB1H,YAAAA,UAAU,EAAVA,UAAAA;AAAhB,WADQ,CAAA;AAEf+L,UAAAA,OAAO,EAAEjB,UAAAA;AAFM,SAAD,CAHlB,EAAA;AAMI,UAAA,aAAA,EAAA,kBAAA,GAC8BuB,SAPlC;AAQEzD,UAAAA,QAAQ,EAAEA,QARZ;AASE5I,UAAAA,UAAU,EAAEA,UAAAA;AATd,SAAA,CAAA,EAWG0H,OAAO,CAACpI,IAAR,CAAagN,OAAb,EAXH,CADF,CAAA;AAeD,OA1BD,CADkB,CAAA;AAAA,KAAnB,CAXH,CAhEF,CADa,CAAA;AAAA,GAAd,CAJH,CARF,EAyHGjC,SAAS,IACRpG,KAAA,CAAA6B,aAAA,CAACqD,WAAD,EAAA,QAAA,CAAA;AACEP,IAAAA,QAAQ,EAAEA,QAAAA;AADZ,GAEMlJ,EAAAA,QAAQ,CAACH,OAAD,EAAUC,OAAV,CAFd,EAGM6H,YAAY,CAAC;AACfK,IAAAA,OAAO,EAAEhI,QAAQ,CAACH,OAAD,EAAUC,OAAV,CADF;AAEfuM,IAAAA,OAAO,EAAEjB,UAAAA;AAFM,GAAD,CAHlB,CAAA,EAQGR,WARH,CA1HJ,CADF,CADF,CAAA;AA0ID,CAlLD;;AC7BA,IAAMiC,UAAU,GAAG,SAAbA,UAAa,CAKG,IAAA,EAAA;AAAA,EAJpBC,IAAAA,SAIoB,QAJpBA,SAIoB;AAAA,MAHpBlE,IAGoB,QAHpBA,IAGoB;AAAA,MAFpBmE,kBAEoB,QAFpBA,kBAEoB;AAAA,MADpBC,OACoB,QADpBA,OACoB,CAAA;;AACpB,EAAID,IAAAA,kBAAkB,IAAID,SAAtB,IAAmCvI,KAAK,CAAC0I,cAAN,CAAqBH,SAArB,CAAvC,EAAwE;AACtE,IAAA,OAAOvI,KAAK,CAAC2I,YAAN,CAAmBJ,SAAnB,EAA8B;AACnC,MAAA,aAAA,EAAe,uBADoB;AAEnCT,MAAAA,OAAO,EAAEW,OAAAA;AAF0B,KAA9B,CAAP,CAAA;AAID,GAAA;;AAED,EAAID,IAAAA,kBAAkB,IAAID,SAAtB,IAAmC,CAACvI,KAAK,CAAC0I,cAAN,CAAqBH,SAArB,CAAxC,EAAyE;AACvE,IAAA,OACEvI,KAAC,CAAA6B,aAAD,CAAC+G,IAAD;sBACe;AAAO,MAAA,aAAA,EACR;AACZC,MAAAA,IAAI;AACJC,MAAAA,IAAI,EAAEP;AACNT,MAAAA,OAAO,EAAEW,OAAAA;KALX,CADF,CAAA;AASD,GAAA;;AAED,EAAIpE,IAAAA,IAAI,IAAIrE,KAAK,CAAC0I,cAAN,CAAqBrE,IAArB,CAAZ,EAAwC;AACtC,IAAA,OAAOrE,KAAK,CAAC2I,YAAN,CAAmBtE,IAAnB,EAAyB;AAC9B,MAAe,aAAA,EAAA,iBAAA;AADe,KAAzB,CAAP,CAAA;AAGD,GAAA;;AAED,EAAA,OAAOrE,KAAA,CAAA6B,aAAA,CAAC+G,IAAD,EAAqB;AAAA,IAAA,aAAA,EAAA,iBAAA;AAAkBE,IAAAA,IAAI,EAAEzE,IAAAA;AAAxB,GAArB,CAAP,CAAA;AACD,CAhCD;;;ACAA,IAAM0E,SAAS,GAAG;AAChB,EAAe,aAAA,EAAA,kBAAA;AADC,CAAlB,CAAA;AAIA,IAAMC,WAAW,gBAAGhJ,KAAK,CAACiJ,UAAN,CAAoC,UAACxH,KAAD,EAAQgF,GAAR,EAAe;AACrE,EAAA,IACE8B,SADF,GAWI9G,KAXJ,CACE8G,SADF;AAAA,MAEEW,KAFF,GAWIzH,KAXJ,CAEEyH,KAFF;AAAA,MAGE7E,IAHF,GAWI5C,KAXJ,CAGE4C,IAHF;AAAA,MAIEmE,kBAJF,GAWI/G,KAXJ,CAIE+G,kBAJF;AAAA,MAKEW,KALF,GAWI1H,KAXJ,CAKE0H,KALF;AAAA,MAMEV,OANF,GAWIhH,KAXJ,CAMEgH,OANF;AAAA,MAOElF,OAPF,GAWI9B,KAXJ,CAOE8B,OAPF;AAAA,MAQE6F,QARF,GAWI3H,KAXJ,CAQE2H,QARF;AAAA,MASE9K,KATF,GAWImD,KAXJ,CASEnD,KATF;AAAA,MAUKgC,IAVL,iCAWImB,KAXJ,EAAA,SAAA,CAAA,CAAA;;AAaA,EAAA,OACEzB,KAAA,CAAA6B,aAAA,CAACwH,IAAI,CAACC,KAAN,EAAW;AAACJ,IAAAA,KAAK,EAAEA,KAAR;AAAeE,IAAAA,QAAQ,EAAEA,QAAAA;AAAzB,GAAX,EACGD,KAAK,IAAInJ,mBAAA,QAAA;AAAOuJ,IAAAA,OAAO,EAAEjJ,IAAI,CAACkJ,EAAAA;GAArB,EAAgDL,KAAhD,CADZ,EAEEnJ,KAAC,CAAA6B,aAAD,CAAC4H,KAAD,EAAA,QAAA,CAAA,EAAA,EACMnJ,IADN,EAAA;AAEEmG,IAAAA,GAAG,EAAEA,GAFP;AAGEyC,IAAAA,KAAK,EAAEA,KAHT;AAIEE,IAAAA,QAAQ,EAAEA,QAJZ;AAKE/E,IAAAA,IAAI,EACFrE,KAAA,CAAA6B,aAAA,CAACyG,UAAD,EACE;AAAAC,MAAAA,SAAS,EAAEA,SAAX;AACAlE,MAAAA,IAAI,EAAEA,IADN;AAEAmE,MAAAA,kBAAkB,EAAEA,kBAFpB;AAGAC,MAAAA,OAAO,EAAEA,OAAAA;AAHT,KADF,CANJ;AAaEiB,IAAAA,KAAK,EAAEX,SAbT;AAcExF,IAAAA,OAAO,EAAEA,OAdX;AAeEjF,IAAAA,KAAK,EAAEA,KAAAA;AAfT,GAAA,CAAA,CAFF,CADF,CAAA;AAsBD,CApCmB,CAApB;;ACKA,IAAM0G,KAAK,GAAwB;AACjC2E,EAAAA,OAAO,EAAE,cADwB;AAEjCC,EAAAA,QAAQ,EAAE,UAAA;AAFuB,CAAnC,CAAA;AAKA,IAAMC,kBAAkB,GAAG,CACzB,cADyB,EAEzB,WAFyB,EAGzB,WAHyB,EAIzB,WAJyB,EAKzB,UALyB,EAMzB,OANyB,EAOzB,MAPyB,EAQzB,cARyB,EASzB,IATyB,EAUzB,OAVyB,EAWzB,SAXyB,EAYzB,MAZyB,EAazB,QAbyB,EAczB,UAdyB,EAezB,SAfyB,EAgBzB,eAhByB,EAiBzB,eAjByB,EAkBzB,SAlByB,EAmBzB,SAnByB,EAoBzB,WApByB,EAqBzB,YArByB,EAsBzB,SAtByB,EAuBzB,aAvByB,EAwBzB,cAxByB,EAyBzB,cAzByB,EA0BzB,aA1ByB,EA2BzB,YA3ByB,EA4BzB,aA5ByB,EA6BzB,WA7ByB,EA8BzB,aA9ByB,EA+BzB,UA/ByB,EAgCzB,MAhCyB,EAiCzB,UAjCyB,EAkCzB,aAlCyB,EAmCzB,UAnCyB,CAA3B,CAAA;;IA8CMC;;;;;;;;;;;AAqCJC,IAAAA,KAAAA,CAAAA,KAAK/J,KAAK,CAACC,SAAN;AACL+J,IAAAA,KAAAA,CAAAA,WAAWhK,KAAK,CAACC,SAAN;UA+EXJ,QAAQ,MAAKoK;AAEbhI,IAAAA,KAAAA,CAAAA,YAA+B,KAAKiI,CAAAA,YAAL,GAC3BzH,eAD2B,GAE3B0H;;UAEJC,aAAa,UAACvL,KAAD,EAAU;AACrB,MAAA,IAAA,WAAA,GAAsC,MAAK4C,KAA3C;AAAA,UAAQ4I,eAAR,eAAQA,eAAR;AAAA,UAAyBhI,QAAzB,eAAyBA,QAAzB,CAAA;AACA,MAAA,IAAMiI,QAAQ,GAAG;AACfC,QAAAA,SAAS,EAAEF,eADI;AAEfhN,QAAAA,YAAY,EAAE,KAAA,CAAK6M,YAAL,GAAoB,EAApB,GAAyB,IAFxB;AAGfM,QAAAA,qBAAqB,EAAE,EAAA;AAHR,OAAjB,CAAA;;AAMA,MAAA,IAAIH,eAAJ,EAAqB;AACnB,QAAA,KAAA,CAAKI,YAAL,EAAA,CAAA;AACD,OAAA;;AAED,MAAA,KAAA,CAAK/J,QAAL,CAAc4J,QAAd,EAAwB,YAAK;AAC3BjI,QAAAA,QAAQ,CAACxD,KAAD,EAAA,QAAA,CAAA,EAAA,EAAa,MAAK4C,KAAlB,EAAA;AAAyBnD,UAAAA,KAAK,EAAE,IAAA;AAAhC,SAAR,CAAA,CAAA,CAAA;AACD,OAFD,CAAA,CAAA;AAGD;;UAEDoM,aAAa,UAAC7L,KAAD,EAAU;AACrB,MAAKuL,KAAAA,CAAAA,UAAL,CAAgBvL,KAAhB,CAAA,CAAA;AACD;;UAED8L,cAAc,UAACC,cAAD,EAAmB;AAC/B,MAAA,IAAQL,SAAR,GAAsB,KAAK1K,CAAAA,KAA3B,CAAQ0K,SAAR,CAAA;;AAEA,MAAA,IAAIA,SAAS,IAAI,KAAKR,CAAAA,EAAtB,EAA0B;AACxB,QAAA,IAAI,MAAKA,EAAL,CAAQnJ,OAAR,IAAmB,CAAC,KAAKmJ,CAAAA,EAAL,CAAQnJ,OAAR,CAAgBiK,QAAhB,CAAyBD,cAAc,CAAC7D,MAAxC,CAAxB,EAAyE;AACvE,UAAA,KAAA,CAAK+D,KAAL,EAAA,CAAA;AACD,SAAA;AACF,OAAA;AACF;;UAEDC,YAAY,UAACC,YAAD,EAAiB;AAC3B,MAAA,IAAQT,SAAR,GAAsB,KAAK1K,CAAAA,KAA3B,CAAQ0K,SAAR,CAAA;;AAEA,MAAIS,IAAAA,YAAY,CAAC5L,OAAb,KAAyBpE,IAAI,CAACE,MAA9B,IAAwCqP,SAA5C,EAAuD;AACrD,QAAA,KAAA,CAAKO,KAAL,EAAA,CAAA;AACD,OAAA;AACF;;AAEDA,IAAAA,KAAAA,CAAAA,QAAQ,YAAK;AACXG,MAAAA,MAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAsC,MAAKH,SAA3C,CAAA,CAAA;AACAE,MAAAA,MAAM,CAACC,mBAAP,CAA2B,WAA3B,EAAwC,MAAKP,WAA7C,CAAA,CAAA;;AAEA,MAAA,KAAA,CAAKjK,QAAL,CAAc;AACZ6J,QAAAA,SAAS,EAAE,KAAA;AADC,OAAd,CAAA,CAAA;AAGD;;AAEDE,IAAAA,KAAAA,CAAAA,eAAe,YAAK;AAAA,MAAA,IAAA,cAAA,CAAA;;AAClB,MAAA,IAAA,CAAA,cAAA,GAAI,KAAKT,CAAAA,QAAT,KAAI,IAAA,IAAA,cAAA,CAAepJ,OAAnB,EAA4B;AAC1B;AACA,QAA4B,IAAA,qBAAA,GAAA,KAAA,CAAKoJ,QAAL,CAAcpJ,OAA1C;AAAA,YAAQU,KAAR,yBAAQA,KAAR;AAAA,YAAe0I,QAAf,yBAAeA,QAAf,CAAA;;AACA,QAAA,IAAIlJ,QAAQ,CAACC,aAAT,KAA2BiJ,QAAQ,CAACpJ,OAAxC,EAAiD;AAC/CU,UAAAA,KAAK,EAAA,CAAA;AACN,SAAA;AACF,OAAA;AACF;;UAED6J,eAAe,UAACtM,KAAD,EAAU;AACvB,MAAA,IAAQ0E,OAAR,GAAoB,KAAK9B,CAAAA,KAAzB,CAAQ8B,OAAR,CAAA;AAEAA,MAAAA,OAAO,CAAC1E,KAAD,CAAP,CAAA;AACAoM,MAAAA,MAAM,CAACG,gBAAP,CAAwB,WAAxB,EAAqC,MAAKT,WAA1C,CAAA,CAAA;AACAM,MAAAA,MAAM,CAACG,gBAAP,CAAwB,SAAxB,EAAmC,MAAKL,SAAxC,CAAA,CAAA;;AAEA,MAAA,KAAA,CAAKN,YAAL,EAAA,CAAA;;AACA,MAAA,KAAA,CAAK/J,QAAL,CAAc;AACZ6J,QAAAA,SAAS,EAAE,IAAA;AADC,OAAd,CAAA,CAAA;AAGD;;AAEDc,IAAAA,KAAAA,CAAAA,mBAAmB,UAACtI,QAAD,EAAWlE,KAAX,EAAoB;AACrC,MAAA,IAAA,YAAA,GAA8D,MAAK4C,KAAnE;AAAA,UAAQrF,MAAR,gBAAQA,MAAR;AAAA,UAAgBkP,gBAAhB,gBAAgBA,gBAAhB;AAAA,UAAkCjJ,QAAlC,gBAAkCA,QAAlC;AAAA,UAA4ClG,aAA5C,gBAA4CA,aAA5C,CAAA;;AAEA,MAAA,IAAI,CAAC4G,QAAD,IAAa,CAACA,QAAQ,CAACpD,MAA3B,EAAmC;AACjC,QAAKyK,KAAAA,CAAAA,UAAL,CAAgBvL,KAAhB,CAAA,CAAA;;AAEA,QAAA,OAAA;AACD,OAAA;;AAED,MAAA,IAAMyL,QAAQ,GAAG;AACfjN,QAAAA,YAAY,EAAE0F,QADC;AAEfyH,QAAAA,qBAAqB,EAAEpN,kBAAkB,CACvC2F,QADuC,EAEvC3G,MAFuC,EAGvCD,aAHuC,CAF1B;AAOf6B,QAAAA,UAAU,EAAE,IAAA;AAPG,OAAjB,CAAA;;AAUA,MAAA,KAAA,CAAK0C,QAAL,CAAc4J,QAAd,EAAwB,YAAK;AAC3BjI,QAAAA,QAAQ,CAACxD,KAAD,EAAA,QAAA,CAAA,EAAA,EAAa,MAAK4C,KAAlB,EAAA;AAAyBnD,UAAAA,KAAK,EAAEyE,QAAAA;AAAhC,SAAR,CAAA,CAAA,CAAA;;AAEA,QAAA,IAAIA,QAAQ,CAACpD,MAAT,KAAoB,CAAxB,EAA2B;AACzB,UAAA,KAAA,CAAKe,QAAL,CAAc;AAAE6J,YAAAA,SAAS,EAAEe,gBAAAA;AAAb,WAAd,CAAA,CAAA;AACD,SAAA;AACF,OAND,CAAA,CAAA;AAOD;;AAEDC,IAAAA,KAAAA,CAAAA,mBAAmB,UAACjJ,OAAD,EAAUzD,KAAV,EAAmB;AACpC,MAAA,IAAA,YAAA,GAA8D,MAAK4C,KAAnE;AAAA,UAAQrF,MAAR,gBAAQA,MAAR;AAAA,UAAgBkP,gBAAhB,gBAAgBA,gBAAhB;AAAA,UAAkCjJ,QAAlC,gBAAkCA,QAAlC;AAAA,UAA4ClG,aAA5C,gBAA4CA,aAA5C,CAAA;;AAEA,MAAI,IAAA,CAACmG,OAAL,EAAc;AACZ,QAAK8H,KAAAA,CAAAA,UAAL,CAAgBvL,KAAhB,CAAA,CAAA;;AACA,QAAA,OAAA;AACD,OAAA;;AAED,MAAA,IAAMyL,QAAQ,GAAG;AACfC,QAAAA,SAAS,EAAEe,gBADI;AAEfjO,QAAAA,YAAY,EAAEiF,OAFC;AAGfkI,QAAAA,qBAAqB,EAAEpN,kBAAkB,CAACkF,OAAD,EAAUlG,MAAV,EAAkBD,aAAlB,CAH1B;AAIf6B,QAAAA,UAAU,EAAE,IAAA;AAJG,OAAjB,CAAA;;AAOA,MAAA,KAAA,CAAK0C,QAAL,CAAc4J,QAAd,EAAwB,YAAK;AAC3BjI,QAAAA,QAAQ,CAACxD,KAAD,EAAA,QAAA,CAAA,EAAA,EAAa,MAAK4C,KAAlB,EAAA;AAAyBnD,UAAAA,KAAK,EAAEgE,OAAAA;AAAhC,SAAR,CAAA,CAAA,CAAA;AACD,OAFD,CAAA,CAAA;AAGD;;UAEDkJ,aAAa,UAAC3M,KAAD,EAAiC;AAC5C,MAAA,IAAA,YAAA,GAAqC,MAAK4C,KAA1C;AAAA,UAAQrF,MAAR,gBAAQA,MAAR;AAAA,UAAgBqP,MAAhB,gBAAgBA,MAAhB;AAAA,UAAwBpJ,QAAxB,gBAAwBA,QAAxB,CAAA;AACA,MAAA,IAAQrE,UAAR,GAAuB,KAAK6B,CAAAA,KAA5B,CAAQ7B,UAAR,CAAA;;AAEA,MAAA,IAAIa,KAAJ,EAAW;AACT4M,QAAAA,MAAM,CAAC5M,KAAD,CAAN,CAAA;AACD,OAAA;;AAED,MAAI,IAAA,CAACb,UAAL,EAAiB;AACf,QAAA,OAAA;AACD,OAAA;;AAED,MAAI,IAAA,KAAA,CAAKkM,YAAT,EAAuB;AACrB,QAAMwB,IAAAA,WAAW,GAAGxN,gBAAgB,CAACyN,MAAM,CAAC3N,UAAD,CAAP,EAAqB5B,MAArB,CAApC,CAAA;AACA,QAAA,IAAMwP,aAAa,GAAGF,WAAW,CAACG,KAAZ,CAAkBC,OAAlB,CAAtB,CAAA;;AAEA,QAAA,IAAIF,aAAJ,EAAmB;AACjB,UAAA,KAAA,CAAKP,gBAAL,CAAsBK,WAAtB,EAAmC7M,KAAnC,CAAA,CAAA;;AACA,UAAA,OAAA;AACD,SAAA;AACF,OARD,MAQO;AACL,QAAM6M,IAAAA,YAAW,GAAG3N,WAAW,CAAC4N,MAAM,CAAC3N,UAAD,CAAP,EAAqB5B,MAArB,CAA/B,CAAA;;AACA,QAAA,IAAM2P,WAAW,GAAGD,OAAO,CAACJ,YAAD,CAA3B,CAAA;;AAEA,QAAA,IAAIK,WAAJ,EAAiB;AACf,UAAA,KAAA,CAAKR,gBAAL,CAAsBG,YAAtB,EAAmC7M,KAAnC,CAAA,CAAA;;AACA,UAAA,OAAA;AACD,SAAA;AACF,OAAA;;AAED,MAAA,KAAA,CAAK6B,QAAL,CAAc;AAAE1C,QAAAA,UAAU,EAAE,IAAA;AAAd,OAAd,EAAoC,YAAK;AACvCqE,QAAAA,QAAQ,CAACxD,KAAD,EAAA,QAAA,CAAA,EAAA,EAAa,MAAK4C,KAAlB,EAAA;AAAyBnD,UAAAA,KAAK,EAAE,IAAA;AAAhC,SAAR,CAAA,CAAA,CAAA;AACD,OAFD,CAAA,CAAA;AAGD;;UAED0N,eAAe,UAACnN,KAAD,EAA2C,IAAA,EAAA;AAAA,MAAXP,IAAAA,KAAW,QAAXA,KAAW,CAAA;AACxD,MAAA,IAAA,YAAA,GAA+C,MAAKmD,KAApD;AAAA,UAAQwK,gBAAR,gBAAQA,gBAAR;AAAA,UAA0B7P,MAA1B,gBAA0BA,MAA1B;AAAA,UAAkCiG,QAAlC,gBAAkCA,QAAlC,CAAA;AACA,MAAM1E,IAAAA,YAAY,GAAG,KAAKuM,CAAAA,YAAL,GAAuB9N,MAAvB,GAAA,KAAA,GAAmCA,MAAnC,GAA8CA,MAAnE,CAAA;AACA,MAAM4B,IAAAA,UAAU,GAAGiO,gBAAgB,GAAGxN,WAAW,CAACH,KAAD,CAAd,GAAwBA,KAA3D,CAAA;;AAEA,MAAI,IAAA,CAACN,UAAL,EAAiB;AACf,QAAA,IAAMsM,QAAQ,GAAG;AACfjN,UAAAA,YAAY,EAAE,KAAA,CAAK6M,YAAL,GAAoB,EAApB,GAAyB,IADxB;AAEfM,UAAAA,qBAAqB,EAAE,EAFR;AAGfxM,UAAAA,UAAU,EAAE,IAAA;AAHG,SAAjB,CAAA;;AAMA,QAAA,KAAA,CAAK0C,QAAL,CAAc4J,QAAd,EAAwB,YAAK;AAC3BjI,UAAAA,QAAQ,CAACxD,KAAD,EAAA,QAAA,CAAA,EAAA,EAAa,MAAK4C,KAAlB,EAAA;AAAyBnD,YAAAA,KAAK,EAAE,IAAA;AAAhC,WAAR,CAAA,CAAA,CAAA;AACD,SAFD,CAAA,CAAA;;AAIA,QAAA,OAAA;AACD,OAAA;;AAED,MAAA,KAAA,CAAKoC,QAAL,CAAc;AACZrD,QAAAA,YAAY,EAAE,KAAA,CAAK6M,YAAL,GAAoB,EAApB,GAAyB,IAD3B;AAEZM,QAAAA,qBAAqB,EAAE,EAFX;AAGZxM,QAAAA,UAAU,EAAEkO,qBAAqB,CAACvO,YAAD,EAAeK,UAAf,CAAA;AAHrB,OAAd,CAAA,CAAA;AAKD;;UAEDmO,gBAAgB,UAACrF,GAAD,EAAQ;AACtB,MAAA,IAAIA,GAAG,CAAC1H,OAAJ,KAAgBpE,IAAI,CAACC,KAAzB,EAAgC;AAC9B,QAAA,KAAA,CAAKuQ,UAAL,EAAA,CAAA;AACD,OAAA;AACF;;AAEDhJ,IAAAA,KAAAA,CAAAA,iBAAiB,UAAC3D,KAAD,EAA0CuN,WAA1C,EAAyD;AACxE,MAAI,IAAA,KAAA,CAAKlC,YAAT,EAAuB;AACrB,QAAA,KAAA,CAAKmB,gBAAL,CAAsBe,WAAtB,EAAmCvN,KAAnC,CAAA,CAAA;AACD,OAFD,MAEO;AACL,QAAA,KAAA,CAAK0M,gBAAL,CAAsBa,WAAtB,EAAmCvN,KAAnC,CAAA,CAAA;AACD,OAAA;AACF;;;;;;;SAnRD0C,qBAAA,SAAmBC,kBAAAA,CAAAA,SAAnB,EAAqD;AACnD,IAAA,IAAA,YAAA,GAA0B,KAAKC,KAA/B;AAAA,QAAQ4K,MAAR,gBAAQA,MAAR;AAAA,QAAgB/N,KAAhB,gBAAgBA,KAAhB,CAAA;;AAEA,IAAI,IAAA,CAACgO,OAAO,CAAChO,KAAD,EAAQkD,SAAS,CAAClD,KAAlB,CAAZ,EAAsC;AACpC,MAAA,IAAA,CAAKkE,cAAL,CAAoBlG,SAApB,EAA+BgC,KAA/B,CAAA,CAAA;AACD,KAAA;;AAED,IAAA,IAAI+N,MAAM,KAAK7K,SAAS,CAAC6K,MAAzB,EAAiC;AAC/B,MAAA,IAAA,CAAK3L,QAAL,CAAc;AAAE2L,QAAAA,MAAM,EAAE,IAAKA,CAAAA,MAAAA;AAAf,OAAd,CAAA,CAAA;AACD,KAAA;AACF;;AA2QD3K,EAAAA,MAAAA,CAAAA,SAAA,SAAM,MAAA,GAAA;AAAA,IAAA,IAAA,MAAA,GAAA,IAAA,CAAA;;AACJ,IAAA,IAAA,WAAA,GAMI,KAAK7B,KANT;AAAA,QACE0K,SADF,eACEA,SADF;AAAA,QAEE8B,MAFF,eAEEA,MAFF;AAAA,QAGEhP,YAHF,eAGEA,YAHF;AAAA,QAIEmN,qBAJF,eAIEA,qBAJF;AAAA,QAKExM,UALF,eAKEA,UALF,CAAA;AAOA,IAAA,IAAA,YAAA,GAQI,KAAKyD,KART;AAAA,QACE8K,SADF,gBACEA,SADF;AAAA,QAEEhG,QAFF,gBAEEA,QAFF;AAAA,QAGEX,UAHF,gBAGEA,UAHF;AAAA,QAIEG,MAJF,gBAIEA,MAJF;AAAA,QAKEpB,QALF,gBAKEA,QALF;AAAA,QAME6H,QANF,gBAMEA,QANF;AAAA,QAOEC,cAPF,gBAOEA,cAPF,CAAA;AASA,IAAMC,IAAAA,mBAAmB,GACvB1M,KAAC,CAAA6B,aAAD,CAAC,IAAKI,CAAAA,SAAN,EACM,QAAA,CAAA,EAAA,EAAA,IAAA,CAAK0K,WADX,EAAA;AAEEC,MAAAA,eAAe,EAAE,IAAA,CAAK1C,YAAL,GAAoB,CAApB,GAAwB,CAF3C;AAGE7H,MAAAA,QAAQ,EAAE,IAAA,CAAKG,cAHjB;AAIExG,MAAAA,QAAQ,EAAEqB,YAJZ;AAKEhC,MAAAA,IAAI,EAAE,IAAKA,CAAAA,IAAAA;AALb,KAAA,CAAA,EAOG,UAACoG,KAAD,EAAA;AAAA,MAAA,OACCzB,KAAC,CAAA6B,aAAD,CAAC6D,QAAD,EAAA,QAAA,CAAA,EAAA,EACM,MAAI,CAACiH,WADX,EAEMlL,KAFN,EAGM4K,MAHN,EAAA;AAIEzG,QAAAA,UAAU,EAAEA,UAJd;AAKEjB,QAAAA,QAAQ,EAAEA,QALZ;AAME4B,QAAAA,QAAQ,EAAEA,QANZ;AAOED,QAAAA,QAAQ,EAAE,MAAI,CAACA,QAAAA;AAPjB,OADD,CAAA,CAAA,CAAA;AAAA,KAPH,CADF,CAAA;AAsBA,IAAOP,OAAAA,MAAM,GACX2G,mBADW,GAGX1M,KAAA,CAAA6B,aAAA,CAAA,KAAA,EAAA;AAAK+C,MAAAA,SAAS,EAAC,OAAf;AAAuBI,MAAAA,KAAK,EAAEA,KAA9B;AAAqCyB,MAAAA,GAAG,EAAE,IAAKsD,CAAAA,EAAAA;AAA/C,KAAA,EACE/J,KAAA,CAAA6B,aAAA,CAAC4H,WAAD,EAAA,QAAA,CAAA,EAAA,EACM,KAAKoD,UADX,EAAA;AAEErE,MAAAA,kBAAkB,EAAEsE,OAAO,CAACP,SAAS,IAAI/B,qBAAd,CAF7B;AAGEiB,MAAAA,MAAM,EAAE,IAAA,CAAKD,UAHf;AAIEnJ,MAAAA,QAAQ,EAAE,IAAA,CAAK2J,YAJjB;AAKEvD,MAAAA,OAAO,EAAE,IAAA,CAAKiC,UALhB;AAMEnH,MAAAA,OAAO,EAAEiJ,QAAQ,GAAG,IAAH,GAAU,KAAKrB,YANlC;AAOE3K,MAAAA,SAAS,EAAE,IAAA,CAAK2L,aAPlB;AAQEK,MAAAA,QAAQ,EAAEA,QAAQ,IAAIC,cARxB;AASEhG,MAAAA,GAAG,EAAE,IAAA,CAAKuD,QATZ;AAUE1L,MAAAA,KAAK,EAAEN,UAAU,IAAIwM,qBAAAA;AAVvB,KAAA,CAAA,CADF,EAaGD,SAAS,IAAImC,mBAbhB,CAHF,CAAA;AAmBD;;;;SAnUD,SAAgB,GAAA,GAAA;AACd,MAAA,OAAO,IAAKjL,CAAAA,KAAL,CAAWsL,IAAX,KAAoB,OAA3B,CAAA;AACD,KAAA;;;SAED,SAAgB,GAAA,GAAA;AACd,MAAA,IAAA,YAAA,GAAyC,KAAKtL,KAA9C;AAAA,UAAQrF,MAAR,gBAAQA,MAAR;AAAA,UAAgBkC,KAAhB,gBAAgBA,KAAhB;AAAA,UAAuBnC,aAAvB,gBAAuBA,aAAvB,CAAA;AACA,MAAA,IAAM6Q,mBAAmB,GAAG,IAAA,CAAK9C,YAAL,GAAoB,EAApB,GAAyB,IAArD,CAAA;AAEA,MAAO,OAAA;AACLK,QAAAA,SAAS,EAAE,KADN;AAEL8B,QAAAA,MAAM,EAAE,IAAA,CAAKA,MAFR;AAGLhP,QAAAA,YAAY,EAAEiB,KAAK,IAAI0O,mBAHlB;AAILxC,QAAAA,qBAAqB,EAAEpN,kBAAkB,CAACkB,KAAD,EAAQlC,MAAR,EAAgBD,aAAhB,CAJpC;AAKL6B,QAAAA,UAAU,EAAE,IAAA;AALP,OAAP,CAAA;AAOD,KAAA;;;SAED,SAAe,GAAA,GAAA;AACb,MAAA,OAAOzB,IAAI,CAACsN,kBAAD,EAAqB,IAAA,CAAKpI,KAA1B,CAAX,CAAA;AACD,KAAA;;;SAED,SAAc,GAAA,GAAA;AACZ,MAAMA,IAAAA,KAAK,GAAG5E,IAAI,CAACgN,kBAAD,EAAqB,IAAA,CAAKpI,KAA1B,CAAlB,CAAA;AACA,MAAA,IAAMwL,WAAW,GACfxL,KAAK,CAACwL,WAAN,KAAsB3Q,SAAtB,GAAkCmF,KAAK,CAACwL,WAAxC,GAAsD,IAAKxL,CAAAA,KAAL,CAAWrF,MADnE,CAAA;AAGA,MAAA,OAAA,QAAA,CAAA,EAAA,EACKqF,KADL,EAAA;AAEEwL,QAAAA,WAAW,EAAXA,WAAAA;AAFF,OAAA,CAAA,CAAA;AAID,KAAA;;;SAED,SAAQ,GAAA,GAAA;AACN,MAAA,IAAQ5P,YAAR,GAAyB,IAAKwC,CAAAA,KAA9B,CAAQxC,YAAR,CAAA;AACA,MAAA,IAAQhC,IAAR,GAAiB,IAAKoG,CAAAA,KAAtB,CAAQpG,IAAR,CAAA;;AAEA,MAAA,IAAIA,IAAI,IAAI,CAACgC,YAAb,EAA2B;AACzB,QAAA,OAAOhC,IAAP,CAAA;AACD,OAAA;;AAED,MAAO,OAAA,IAAA,CAAK6O,YAAL,GAAoB7M,YAAY,CAAC,CAAD,CAAhC,GAAsCA,YAA7C,CAAA;AACD,KAAA;;;SAED,SAAU,GAAA,GAAA;AACR,MAAA,IAAQgP,MAAR,GAAmB,IAAK5K,CAAAA,KAAxB,CAAQ4K,MAAR,CAAA;AAEA,MAAA,IAAIa,UAAJ,CAAA;;AAEA,MAAI,IAAA;AACFA,QAAAA,UAAU,GAAGC,OAAO,CAAA,YAAA,GAAcd,MAAd,GAApB,OAAA,CAAA,CAAA;AACD,OAFD,CAEE,OAAOe,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,IAAR,CAAA,IAAA,GAAiBjB,MAAjB,GAAA,0BAAA,CAAA,CAAA;AACAa,QAAAA,UAAU,GAAGC,OAAO,CAAC,sBAAD,CAApB,CAAA;AACD,OAAA;;AAED,MAAA,OAAOD,UAAP,CAAA;AACD,KAAA;;;SAED,SAAY,GAAA,GAAA;AACV,MAAA,IAAQK,cAAR,GAA2B,IAAKZ,CAAAA,WAAhC,CAAQY,cAAR,CAAA;AACA,MAAA,IAAQjH,QAAR,GAAqB,IAAA,CAAKzG,KAAL,CAAWwM,MAAhC,CAAQ/F,QAAR,CAAA;AAEA,MAAA,OAAOvJ,eAAe,CAACwQ,cAAD,EAAiBjH,QAAjB,CAAtB,CAAA;AACD,KAAA;;;;AAnH8BtG,CAAAA,CAAAA,KAAK,CAACiC;;AAAjC6H,mBAIG3F,eAAwC;AAC7C8H,EAAAA,gBAAgB,EAAE,KAD2B;AAE7CuB,EAAAA,SAAS,EAAE,KAFkC;AAG7CjF,EAAAA,SAAS,EAAE,OAHkC;AAI7CnG,EAAAA,oBAAoB,EAAE,IAJuB;AAK7CmK,EAAAA,SAAS,EAAE,IALkC;AAM7ClR,EAAAA,IAAI,EAAEiB,SANuC;AAO7CsJ,EAAAA,UAAU,EAAE,SAAA,UAAA,GAAA;AAAA,IAAA,OAAM,IAAN,CAAA;AAAA,GAPiC;AAQ7C2H,EAAAA,cAAc,EAAE,CAR6B;AAS7CnR,EAAAA,MAAM,EAAE,YATqC;AAU7CiI,EAAAA,IAAI,EAAE,UAVuC;AAW7CmF,EAAAA,EAAE,EAAElN,SAXyC;AAY7CyJ,EAAAA,MAAM,EAAE,KAZqC;AAa7CsE,EAAAA,eAAe,EAAE,KAb4B;AAc7CiB,EAAAA,gBAAgB,EAAE,KAd2B;AAe7CnC,EAAAA,KAAK,EAAE7M,SAfsC;AAgB7C+P,EAAAA,MAAM,EAAE,OAhBqC;AAiB7CvD,EAAAA,IAAI,EAAExM,SAjBuC;AAkB7CmP,EAAAA,MAAM,EAAE,SAAK,MAAA,GAAA,EAlBgC;AAmB7CpJ,EAAAA,QAAQ,EAAE,SAAK,QAAA,GAAA,EAnB8B;AAoB7CkB,EAAAA,OAAO,EAAE,SAAK,OAAA,GAAA,EApB+B;AAqB7C0J,EAAAA,WAAW,EAAE3Q,SArBgC;AAsB7CiK,EAAAA,QAAQ,EAAE,MAtBmC;AAuB7CiG,EAAAA,QAAQ,EAAE,KAvBmC;AAwB7CC,EAAAA,cAAc,EAAE,KAxB6B;AAyB7CrD,EAAAA,QAAQ,EAAE,KAzBmC;AA0B7ChD,EAAAA,SAAS,EAAE,IA1BkC;AA2B7CqH,EAAAA,eAAe,EAAE,KA3B4B;AA4B7CV,EAAAA,IAAI,EAAE,OA5BuC;AA6B7CzO,EAAAA,KAAK,EAAE,IA7BsC;AA8B7CqG,EAAAA,QAAQ,EAAE,KAAA;AA9BmC;;;;"}